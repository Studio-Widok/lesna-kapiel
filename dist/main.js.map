{"version":3,"sources":["webpack://lesna-kapiel/./src/js/attractions.js","webpack://lesna-kapiel/./src/js/cake-frame.js","webpack://lesna-kapiel/./src/js/fixed-link.js","webpack://lesna-kapiel/./src/js/footer.js","webpack://lesna-kapiel/./src/js/nav.js","webpack://lesna-kapiel/./src/js/slider-gallery.js","webpack://lesna-kapiel/./src/js/sliders.js","webpack://lesna-kapiel/./src/js/top.js","webpack://lesna-kapiel/./src/js/widok-hoverable.js","webpack://lesna-kapiel/./src/js/widok-lightbox.js","webpack://lesna-kapiel/./src/js/widok-scrollItem.js","webpack://lesna-kapiel/./src/js/widok-slider.js","webpack://lesna-kapiel/./src/js/widok-throttle.js","webpack://lesna-kapiel/./src/js/widok.js","webpack://lesna-kapiel/./node_modules/cash-dom/dist/cash.js","webpack://lesna-kapiel/./node_modules/desandro-matches-selector/matches-selector.js","webpack://lesna-kapiel/./node_modules/ev-emitter/ev-emitter.js","webpack://lesna-kapiel/./node_modules/fizzy-ui-utils/utils.js","webpack://lesna-kapiel/./node_modules/get-size/get-size.js","webpack://lesna-kapiel/./node_modules/masonry-layout/masonry.js","webpack://lesna-kapiel/./node_modules/outlayer/item.js","webpack://lesna-kapiel/./node_modules/outlayer/outlayer.js","webpack://lesna-kapiel/./node_modules/smoothscroll-polyfill/dist/smoothscroll.js","webpack://lesna-kapiel/./node_modules/widok-fade-queue/node_modules/widok-throttle/widok-throttle.js","webpack://lesna-kapiel/./node_modules/widok-fade-queue/widok-fade-queue.js","webpack://lesna-kapiel/webpack/bootstrap","webpack://lesna-kapiel/webpack/runtime/compat get default export","webpack://lesna-kapiel/webpack/runtime/define property getters","webpack://lesna-kapiel/webpack/runtime/hasOwnProperty shorthand","webpack://lesna-kapiel/webpack/runtime/make namespace object","webpack://lesna-kapiel/./src/js/main.js","webpack://lesna-kapiel/./src/scss/main.scss?fde6"],"names":["$","require","widok","moreButton","verticalImageTextMore768","isMore","isMobile","on","toggleClass","html","data","each","index","element","css","height","scrollHeight","window","addEventListener","w","removeClass","createScrollItem","fixedLink","fixedLinkContainer","fixedOrAbs","scrollItem","isLayoutChange","currentFixedLink","options","currentFixedLinkH","currentFixedLinkW","offset","em","s","h","isFixed","top","bottom","addClass","e","item","onScroll","width","_onResize","Object","getPrototypeOf","call","videoOverlay","video","document","getElementById","isPaused","isMuted","paused","play","muted","pause","isOnScreen","createSlider","createLightbox","Masonry","onImageChange","imageSrc","undefined","$element","parent","$containerIn","find","backgroundImage","setTimeout","currentLb","id","opacity","onScreen","onImageActivate","onImageResize","left","masonryContainer","querySelector","masonry","columnWidth","itemSelector","resize","transitionDuration","percentPosition","onMasonryActivate","onActivate","onMasonryChange","layout","onDeactivate","wrap","useKeys","shouldHaveBullets","arrowPrev","arrowNext","duration","loop","singleLb","items","container","onChange","onResize","masonryLb","hasExit","active","event","target","className","deactive","bulletContainer","bulletSelector","touchDrag","smoothscroll","polyfill","topHeight","scrollTo","behavior","createHoverable","Hoverable","hasHoveredClass","isTouched","mouseenter","activate","bind","mouseleave","deactivate","touchstart","clearTimeout","timeout","touchend","module","exports","SingleLightbox","i","off","Lightbox","$container","$items","hasArrows","lightboxCollection","arrowLeft","arrowRight","isLeftHidden","isRightHidden","exitClass","exit","map","push","stopPropagation","keyCode","prevLb","nextLb","checkArrows","length","change","singleLightbox","destroy","lb","ScrollItem","addClasses","isAboveScreen","isCrossingScreenTop","isCrossingScreenBottom","isBelowScreen","onStateChange","outerHeight","_onScroll","checkScreenRelation","setPropClass","prop","value","heightOffset","scrollItemCollection","Slider","lastId","prepareOptions","currentSlideId","initialSlide","slideOffset","position","barSize","size","isSliding","isDragged","isEnabled","prepareArrows","prepareSlides","prepareWheel","prepareDrag","checkSize","onMouseMove","endMouseMove","slides","applyPosition","slideOnWheel","slideSelector","isVertical","mouseDrag","preventDefaultDrag","slidesAsLinks","adjustHeight","animationType","optionName","sizer","appendTo","bar","createElement","foundSlides","clone","slide","Slide","forEach","createBullet","overflow","weightSum","reduce","prev","curr","weight","display","alignItems","isArrowPrevActive","isArrowNextActive","click","nextSlide","prevSlide","which","preventDefault","deltaY","slideBottom","wrapBottom","Math","max","min","endDrag","onDrag","dragStart","x","changedTouches","pageX","y","pageY","onMoveStart","lastDrag","lastSaveId","values","currentPos","onMove","axis","diff","dragEnd","endMove","removeEventListener","partNeededToSlide","applyFoundSlide","found","slideCenter","wrapStart","isSlidedEnoughToChange","slidedAmount","amountNedeedToSlide","wrapEnd","gutter","outerWidth","sliderOffset","maxHeight","adjustPosition","trueLength","isAdjusted","markAsPrev","markAsNext","handleArrows","transition","slider","content","append","children","realId","directionToActive","goTo","bullet","Bullet","bulletLink","isLink","dummy","eq","throttle","ms","callback","lastCall","a","now","Date","getTime","sizeCheck","parseFloat","dispatchEvent","CustomEvent","scrollCheck","scrollY","load","scroll","bodyElement","hasClass","fadeQueueStart","delay"],"mappings":"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CAAC0R,OAAjB;AACD;AAfW,CAAd;AAkBA3S,CAAC,CAACiB,MAAD,CAAD,CAAUV,EAAV,CAAa;AACX2E,QAAM,EAAE4M,QAAQ,CAAC,GAAD,EAAM5R,KAAK,CAACoS,SAAZ,CADL;AAEXM,MAAI,EAAE1S,KAAK,CAACoS,SAFD;AAGXO,QAAM,EAAE3S,KAAK,CAACwS;AAHH,CAAb;AAMA1S,CAAC,CAACiD,QAAD,CAAD,CAAY1C,EAAZ,CAAe,OAAf,EAAwBL,KAAK,CAACoS,SAA9B;AAEA,IAAI,IAAJ,EAAmCpK,MAAM,CAACC,OAAP,GAAiBjI,KAAjB,C;;;;;;;;;;AC7BnC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;AACA;AACA,CAAC;AACD;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,kCAAkC;AAClC;;AAEA;AACA;;AAEA,oCAAoC,OAAO;AAC3C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA,8BAA8B;;AAE9B;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,EAAE;;;AAGF;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA,cAAc;;AAEd;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA,GAAG;AACH,mCAAmC,OAAO;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA,kBAAkB,uBAAuB;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;AACF;;;AAGA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;;AAGF;AACA;AACA,CAAC;;;AAGD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iCAAiC,OAAO;AACxC;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA,EAAE;AACF;;;AAGA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;;AAEA,0BAA0B;;AAE1B;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;;AAGA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe;;AAEf;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC,EAAE;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;;AAGA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD,6EAA6E;;AAE7E;AACA;AACA,CAAC;;;AAGD;AACA;AACA,CAAC;AACD;;;AAGA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA,2CAA2C;AAC3C,CAAC;AACD;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,uFAAuF;;AAEvF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC;;AAEtC;;AAEA,uCAAuC;AACvC;;AAEA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH,CAAC;;;AAGD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAI,IAA8B;AAClC;AACA;AACA,CAAC,MAAM,EAGN;AACD,CAAC,I;;;;;;;;;;AC71CD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,oCAAQ,OAAO;AAAA;AAAA;AAAA;AAAA,kGAAE;AACrB,GAAG,MAAM,EAMN;;AAEH,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;ACpDD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,oCAAQ,OAAO;AAAA;AAAA;AAAA;AAAA,kGAAE;AACrB,GAAG,MAAM,EAMN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;;;;;;;;;;AC/GD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,MAAM,qIAA4C;AAClD,KAAK,mCAAE;AACP;AACA,KAAK;AAAA,kGAAC;AACN,GAAG,MAAM,EAYN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,GAAG;AACH;;AAEA;;AAEA;;AAEA,CAAC;;;;;;;;;;;AChPD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,oCAAQ,OAAO;AAAA;AAAA;AAAA;AAAA,kGAAE;AACrB,GAAG,MAAM,EAMN;;AAEH,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,gBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC;;;;;;;;;;;AC9MD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,QAAQ,mFAAmB;AAC3B,QAAQ,mFAAmB;AAC3B,OAAO,oCACD,OAAO;AAAA;AAAA;AAAA,kGAAE;AACf,GAAG,MAAM,EAYN;;AAEH,CAAC;;AAED;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,YAAY;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,cAAc;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;;;;;;;;;;AC9OD;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,QAAQ,2FAAuB;AAC/B,QAAQ,mFAAmB;AAC3B,OAAO,oCACD,OAAO;AAAA;AAAA;AAAA,kGACR;AACL,GAAG,MAAM,EAaN;;AAEH,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB,aAAa;AACb;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,YAAY,cAAc;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,YAAY,cAAc;;AAE1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,cAAc;;AAE1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,cAAc,kBAAkB;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA,CAAC;;;;;;;;;;;ACziBD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,IAAyC;AAChD;AACA,IAAI,iCAAQ;AACZ,QAAQ,2FAAuB;AAC/B,QAAQ,mFAAmB;AAC3B,QAAQ,yFAAsB;AAC9B,QAAQ,oEAAQ;AAChB,OAAO,mCACD;AACN;AACA,OAAO;AAAA,kGACF;AACL,GAAG,MAAM,EAkBN;;AAEH,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA,WAAW,gBAAgB;AAC3B,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;;AAEA;AACA;AACA,iCAAiC;AACjC,yBAAyB;;AAEzB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,iCAAiC;AAC5C,aAAa,MAAM;AACnB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,iCAAiC;AAC5C,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,oCAAoC;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,4BAA4B;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,WAAW,oCAAoC;AAC/C,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,6BAA6B;AACxC,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,6BAA6B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,6BAA6B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,WAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,WAAW,MAAM,GAAG,QAAQ,GAAG,SAAS;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,MAAM,GAAG,QAAQ,GAAG,SAAS;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,aAAa,cAAc;AAC3B;AACA;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,WAAW,6BAA6B;AACxC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA,yCAAyC;;AAEzC;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,CAAC;;;;;;;;;;;AC16BD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,KAAK;AACpB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,KAAK;AACpB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,KAAK;AACpB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,KAAK;AACpB,iBAAiB,KAAK;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,MAAM,IAA4D;AAClE;AACA,sBAAsB;AACtB,GAAG,MAAM,EAGN;;AAEH,CAAC;;;;;;;;;;;;;;;;AChbD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;;;;;;;;ACfC;AACa;;AAEtC;AACA,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;;AAEA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,+CAAC;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAE,+CAAC;AACH;AACA,GAAG;AACH;;AAEA;AACA,oCAAoC,uDAAQ;AAC5C,oCAAoC,uDAAQ;AAC5C;;AAEA,iEAAe,cAAc,EAAC;;;;;;;UC/G9B;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,gCAAgC,YAAY;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;;;;;;;;;;ACNA;;AACA,IAAMF,CAAC,GAAGC,mBAAO,CAAC,sDAAD,CAAjB;;AACAA,mBAAO,CAAC,kCAAD,CAAP;;AACAA,mBAAO,CAAC,8BAAD,CAAP;;AACAA,mBAAO,CAAC,oCAAD,CAAP;;AACAA,mBAAO,CAAC,sCAAD,CAAP;;AACAA,mBAAO,CAAC,4CAAD,CAAP;;AACA,IAAM6S,WAAW,GAAG9S,CAAC,CAAC,MAAD,CAArB;AAEA,IAAIA,CAAC,CAAC,aAAD,CAAD,CAAiByJ,MAAjB,GAA0B,CAA9B,EAAiCxJ,mBAAO,CAAC,4CAAD,CAAP;AACjC,IAAID,CAAC,CAAC,MAAD,CAAD,CAAUyJ,MAAV,GAAmB,CAAvB,EAA0BxJ,mBAAO,CAAC,8BAAD,CAAP;AAC1B,IAAID,CAAC,CAAC,iBAAD,CAAD,CAAqByJ,MAArB,GAA8B,CAAlC,EAAqCxJ,mBAAO,CAAC,oDAAD,CAAP;AACrC,IAAI6S,WAAW,CAACC,QAAZ,CAAqB,0BAArB,CAAJ,EAAsD9S,mBAAO,CAAC,8CAAD,CAAP;;AACtD,IAAID,CAAC,CAAC,OAAD,CAAD,CAAWyJ,MAAX,GAAoB,CAAxB,EAA2B;AACzBuJ,2DAAc,CAAC;AAAEC,SAAK,EAAE;AAAT,GAAD,CAAd;AACD,C;;;;;;;;;;ACfD","file":"main.js","sourcesContent":["const $ = require('cash-dom');\r\nconst widok = require('./widok');\r\n\r\nconst moreButton = $('#atrraction-more');\r\nconst verticalImageTextMore768 = $(\r\n  '.vertical-image-text.vertical-image-more-768'\r\n);\r\nlet isMore = false;\r\nlet isMobile = true;\r\n\r\nmoreButton.on('click', function () {\r\n  verticalImageTextMore768.toggleClass('show-more');\r\n  if (!isMore) {\r\n    moreButton.html(moreButton.data('less'));\r\n    verticalImageTextMore768.each((index, element) => {\r\n      $(element).css({ height: element.scrollHeight });\r\n    });\r\n    isMore = true;\r\n  } else {\r\n    moreButton.html(moreButton.data('more'));\r\n    verticalImageTextMore768.css({ height: 0 });\r\n    isMore = false;\r\n  }\r\n});\r\n\r\nwindow.addEventListener('afterLayoutChange', function () {\r\n  if (widok.w > 768 && isMobile) {\r\n    isMobile = false;\r\n    verticalImageTextMore768.each((index, element) => {\r\n      $(element).css('height', 'auto');\r\n    });\r\n    isMore = false;\r\n    moreButton.html(moreButton.data('more'));\r\n    verticalImageTextMore768.removeClass('show-more');\r\n  } else {\r\n    isMobile = true;\r\n    if (isMore) {\r\n      verticalImageTextMore768.each((index, element) => {\r\n        $(element).css({ height: element.scrollHeight });\r\n      });\r\n    } else {\r\n      verticalImageTextMore768.css({ height: 0 });\r\n    }\r\n  }\r\n});\r\n","const $ = require('cash-dom');\r\nconst createScrollItem = require('./widok-scrollItem');\r\nconst widok = require('./widok');\r\n\r\n$('.cake-frame').each((index, element) => {\r\n  // createScrollItem($(element).parent('.cake'), {\r\n  //   isActive: false,\r\n  //   onScroll: scrollItem => {\r\n  //     if (scrollItem.offset + scrollItem.height < widok.s + widok.h) {\r\n  //       if (!scrollItem.options.isActive) {\r\n  //         scrollItem.element.addClass('active');\r\n  //         scrollItem.options.isActive = true;\r\n  //       }\r\n  //     } else {\r\n  //       if (scrollItem.options.isActive) {\r\n  //         scrollItem.element.removeClass('active');\r\n  //         scrollItem.options.isActive = false;\r\n  //       }\r\n  //     }\r\n  //   },\r\n  // });\r\n});\r\n","const $ = require('cash-dom');\r\nconst createScrollItem = require('./widok-scrollItem.js');\r\nconst widok = require('./widok.js');\r\n\r\nconst fixedLink = $('.fixed-link');\r\nconst fixedLinkContainer = $('.fixed-link-container');\r\n\r\nconst fixedOrAbs = (scrollItem, isLayoutChange = false) => {\r\n  const currentFixedLink = scrollItem.options.currentFixedLink;\r\n  const currentFixedLinkH = scrollItem.options.currentFixedLinkH;\r\n  const currentFixedLinkW = scrollItem.options.currentFixedLinkW;\r\n  if (\r\n    scrollItem.offset + currentFixedLinkH + widok.em * 2 > widok.s + widok.h ||\r\n    scrollItem.offset + scrollItem.height < widok.s + widok.h\r\n  ) {\r\n    if (isLayoutChange || scrollItem.options.isFixed) {\r\n      scrollItem.options.isFixed = false;\r\n      currentFixedLink.removeClass('fixed');\r\n      if (scrollItem.offset + scrollItem.height < widok.s + widok.h) {\r\n        currentFixedLink.css({\r\n          top: scrollItem.height - currentFixedLinkW - widok.em * 2,\r\n          bottom: 'auto',\r\n        });\r\n      } else if (\r\n        scrollItem.offset + currentFixedLinkH + widok.em * 2 >\r\n        widok.s + widok.h\r\n      ) {\r\n        currentFixedLink.css({\r\n          bottom: 'auto',\r\n          top: currentFixedLinkH - currentFixedLinkW + widok.em + 2,\r\n        });\r\n      }\r\n    }\r\n  } else {\r\n    if (isLayoutChange || !scrollItem.options.isFixed) {\r\n      scrollItem.options.isFixed = true;\r\n      currentFixedLink.addClass('fixed');\r\n      currentFixedLink.css({\r\n        bottom: '2em',\r\n        top: 'auto',\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\n$.each(fixedLinkContainer, (index, e) => {\r\n  const currentFixedLink = $(fixedLink[index]);\r\n  const item = createScrollItem(e, {\r\n    onScroll: scrollItem => fixedOrAbs(scrollItem),\r\n    isFixed: false,\r\n    currentFixedLink,\r\n    currentFixedLinkH: currentFixedLink.height(),\r\n    currentFixedLinkW: currentFixedLink.width(),\r\n  });\r\n\r\n  item._onResize = () => {\r\n    Object.getPrototypeOf(item)._onResize.call(item);\r\n    item.options.currentFixedLinkH = item.options.currentFixedLink.height();\r\n    item.options.currentFixedLinkW = item.options.currentFixedLink.width();\r\n    fixedOrAbs(item, true);\r\n  };\r\n});\r\n","const $ = require('cash-dom');\r\nconst createScrollItem = require('./widok-scrollItem.js');\r\n\r\nconst videoOverlay = $('#footer-video-overlay');\r\nconst video = document.getElementById('footer-video');\r\nlet isPaused = false;\r\nlet isMuted = true;\r\n\r\nif (video) {\r\n  videoOverlay.on('click', () => {\r\n    if (video.paused) {\r\n      isPaused = false;\r\n      video.play();\r\n      videoOverlay.addClass('non-active');\r\n    } else if (isMuted) {\r\n      isMuted = false;\r\n      video.muted = isMuted;\r\n    } else {\r\n      isPaused = true;\r\n      isMuted = true;\r\n      video.pause();\r\n      video.muted = isMuted;\r\n      videoOverlay.removeClass('non-active');\r\n    }\r\n  });\r\n\r\n  createScrollItem(videoOverlay, {\r\n    onScroll: scrollItem => {\r\n      if (scrollItem.isOnScreen && !isPaused) {\r\n        video.play();\r\n        videoOverlay.addClass('non-active');\r\n      } else {\r\n        video.pause();\r\n        videoOverlay.removeClass('non-active');\r\n      }\r\n    },\r\n  });\r\n}\r\n","const $ = require('cash-dom');\r\n\r\n$('#burger').on('click', () => {\r\n  $('#nav').toggleClass('opened');\r\n  $('body').toggleClass('nav-opened');\r\n});\r\n","const $ = require('cash-dom');\r\nconst widok = require('./widok');\r\nconst createSlider = require('./widok-slider');\r\nconst createLightbox = require('./widok-lightbox');\r\nconst Masonry = require('masonry-layout');\r\n\r\nfunction onImageChange() {\r\n  var imageSrc =\r\n    imageSrc === undefined ? this.$element.data('full-image') : imageSrc;\r\n\r\n  this.parent.$containerIn.find('.image-container').css({\r\n    backgroundImage: 'none',\r\n  });\r\n\r\n  this.parent.$containerIn.find('.image-container').css({\r\n    backgroundImage: 'url(' + imageSrc + ')',\r\n  });\r\n  setTimeout(() => {\r\n    if (this.parent.currentLb === this.id) {\r\n      this.parent.$containerIn.find('.image-container').css({\r\n        opacity: 1,\r\n      });\r\n    }\r\n  }, 300);\r\n  this.onScreen = true;\r\n}\r\n\r\nfunction onImageActivate() {\r\n  onImageResize.call(this);\r\n  onImageChange.call(this);\r\n}\r\n\r\nfunction onImageResize() {\r\n  var h = h === undefined ? this.$element.data('height') : h;\r\n  var w = w === undefined ? this.$element.data('width') : w;\r\n\r\n  if (w / h > widok.w / widok.h) {\r\n    h *= widok.w / w;\r\n    w = widok.w;\r\n  } else {\r\n    w *= widok.h / h;\r\n    h = widok.h;\r\n  }\r\n  this.parent.$containerIn.css({\r\n    left: (widok.w - w) / 2,\r\n    top: (widok.h - h) / 2,\r\n    width: w,\r\n    height: h,\r\n  });\r\n}\r\n\r\nconst masonryContainer = document.querySelector('.masonry');\r\n\r\nconst masonry = new Masonry(masonryContainer, {\r\n  columnWidth: '.gallery-sizer',\r\n  itemSelector: '.gallery-item',\r\n  resize: true,\r\n  transitionDuration: 0,\r\n  percentPosition: true,\r\n});\r\n\r\nfunction onMasonryActivate() {\r\n  onActivate();\r\n  onMasonryChange();\r\n}\r\n\r\nfunction onMasonryChange() {\r\n  masonry.layout();\r\n}\r\n\r\nfunction onActivate() {\r\n  $('body').addClass('lightbox-opened');\r\n}\r\n\r\nfunction onDeactivate() {\r\n  $('body').removeClass('lightbox-opened');\r\n}\r\n\r\ncreateSlider({\r\n  wrap: '.slider-gallery',\r\n  useKeys: true,\r\n  shouldHaveBullets: false,\r\n  arrowPrev: '.slider-arrows-container .arrow-left',\r\n  arrowNext: '.slider-arrows-container .arrow-right',\r\n  duration: 600,\r\n  loop: 'true',\r\n});\r\n\r\nconst singleLb = createLightbox({\r\n  items: '.single-slide',\r\n  container: '#lb-container-image',\r\n  onChange: onImageChange,\r\n  onActivate: onImageActivate,\r\n  onResize: onImageResize,\r\n  onDeactivate: onDeactivate,\r\n  onChange: onImageActivate,\r\n  hasArrows: true,\r\n  hasExit: true,\r\n  exitClass: '#lb-container-image .close-lb',\r\n  loop: true,\r\n});\r\n\r\nconst masonryLb = createLightbox({\r\n  items: '.masonry-icon',\r\n  container: '#lb-container-masonry',\r\n  onChange: onMasonryChange,\r\n  onActivate: onMasonryActivate,\r\n  onDeactivate: onDeactivate,\r\n  onResize: onMasonryChange,\r\n  hasExit: true,\r\n});\r\n\r\n$('.gallery-item-in').on('click', function () {\r\n  const id = $(this).data('iterator');\r\n  singleLb.active(id);\r\n});\r\n\r\n$('#lb-container-masonry .lb').on('click', function (event) {\r\n  if (event.target.className !== 'cake') {\r\n    masonryLb.deactive();\r\n  }\r\n});\r\n","const $ = require('cash-dom');\r\nconst createSlider = require('./widok-slider');\r\n\r\n$('.slider-with-bullets').each((index, element) => {\r\n  createSlider({\r\n    wrap: `#slider-with-bullets-${index} .slider`,\r\n    bulletContainer: `#slider-with-bullets-${index} .bullets-container`,\r\n    bulletSelector: `#slider-with-bullets-${index} .bullet`,\r\n    useKeys: true,\r\n    touchDrag: true,\r\n    arrowPrev: `#slider-with-bullets-${index} .arrow-left`,\r\n    arrowNext: `#slider-with-bullets-${index} .arrow-right`,\r\n  });\r\n});\r\n\r\ncreateSlider({\r\n  wrap: `.collections-slider .slider`,\r\n  useKeys: true,\r\n  touchDrag: true,\r\n  bulletContainer: '.collections-slider .bullets-container',\r\n  bulletSelector: '.collections-slider .bullets-container .slider-bullet',\r\n  arrowPrev: `.collections-slider .arrow-left`,\r\n  arrowNext: `.collections-slider .arrow-right`,\r\n});\r\n","const $ = require('cash-dom');\r\nconst smoothscroll = require('smoothscroll-polyfill');\r\n\r\nsmoothscroll.polyfill();\r\n\r\n$('#top .arrow').on('click', () => {\r\n  var topHeight = $('#top').height();\r\n  window.scrollTo({ top: topHeight, behavior: 'smooth' });\r\n});\r\n","const $ = require('cash-dom');\r\n\r\nconst createHoverable = (function () {\r\n  class Hoverable {\r\n    constructor(element) {\r\n      this.element = $(element);\r\n      this.hasHoveredClass = false;\r\n      this.isTouched = false;\r\n\r\n      this.element.on({\r\n        mouseenter: this.activate.bind(this),\r\n        mouseleave: this.deactivate.bind(this),\r\n        touchstart: () => {\r\n          this.isTouched = true;\r\n          clearTimeout(this.timeout);\r\n          this.deactivate();\r\n        },\r\n        touchend: () => {\r\n          clearTimeout(this.timeout);\r\n          this.timeout = setTimeout(() => {\r\n            this.isTouched = false;\r\n          }, 100);\r\n        },\r\n      });\r\n    }\r\n\r\n    activate() {\r\n      if (this.hasHoveredClass) return;\r\n      if (this.isTouched) return;\r\n      this.element.addClass('hovered');\r\n      this.hasHoveredClass = true;\r\n    }\r\n\r\n    deactivate() {\r\n      if (!this.hasHoveredClass) return;\r\n      this.element.removeClass('hovered');\r\n      this.hasHoveredClass = false;\r\n    }\r\n  }\r\n\r\n  return function (options) {\r\n    return new Hoverable(options);\r\n  };\r\n})();\r\n\r\nif (typeof module !== 'undefined') module.exports = createHoverable;\r\n","/**\r\n * add new Lightbox\r\n * @param {object} options extra options\r\n * @param {selector} options.container lightbox container\r\n * @param {selector} options.items single element which activate lightbox\r\n * @param {boolean} options.hasArrows does lightbox have arrows\r\n * @param {boolean} options.hasExit does lightbox have exit icon\r\n * @param {function} options.onActivate callback function which is executed on activate\r\n * @param {function} options.onDeactivate callback function which is executed on deactivate\r\n * @param {function} options.onChange callback function which is executed on change\r\n * @param {function} options.onResize callback function which is executed on resize\r\n * @param {selector} options.exitClass name of custom exit class\r\n * @param {boolean} options.loop is images are looped\r\n * @returns {object} Lightbox\r\n * containerIn '.lb'\r\n * arrows '.arrow-left' '.arrow-right'\r\n * exit '.close-lb'\r\n */\r\n\r\nconst $ = require('cash-dom');\r\n\r\nconst createLightbox = (function () {\r\n  class SingleLightbox {\r\n    constructor(i, e, parent) {\r\n      this.parent = parent;\r\n      this.$element = $(e);\r\n      this.id = i;\r\n      this.onScreen = false;\r\n\r\n      this.$element.on('click', () => {\r\n        this.parent.active(this.id);\r\n      });\r\n    }\r\n\r\n    destroy() {\r\n      this.$element.off('click');\r\n    }\r\n  }\r\n\r\n  class Lightbox {\r\n    constructor(options) {\r\n      this.options = options;\r\n      this.$container = $(this.options.container);\r\n      this.$containerIn = this.$container.find('.lb');\r\n      this.$items = $(this.options.items);\r\n      this.hasArrows =\r\n        this.options.hasArrows === undefined ? false : this.options.hasArrows;\r\n      this.hasExit =\r\n        this.options.hasExit === undefined ? false : this.options.hasExit;\r\n      this.onScreen = false;\r\n      this.lightboxCollection = [];\r\n      this.currentLb = 0;\r\n      this.loop = this.options.loop || false;\r\n\r\n      if (this.hasArrows) {\r\n        this.arrowLeft = this.$container.find('.arrow-left');\r\n        this.arrowRight = this.$container.find('.arrow-right');\r\n        this.isLeftHidden = false;\r\n        this.isRightHidden = false;\r\n      }\r\n\r\n      if (this.hasExit) {\r\n        if (this.options.exitClass) {\r\n          this.exit = $(this.options.exitClass);\r\n        } else {\r\n          this.exit = this.$container.find('.close-lb');\r\n        }\r\n\r\n        this.exit.on('click', () => {\r\n          this.deactive();\r\n        });\r\n      }\r\n\r\n      this.$items.map((i, e) => {\r\n        let singleLb = new SingleLightbox(i, e, this);\r\n        this.lightboxCollection.push(singleLb);\r\n      });\r\n\r\n      this.$container.on('click', () => {\r\n        this.deactive();\r\n      });\r\n\r\n      this.$containerIn.on('click', e => {\r\n        e.stopPropagation();\r\n      });\r\n\r\n      $(document).on('keyup', e => {\r\n        if (e.keyCode === 27) this.deactive();\r\n      });\r\n\r\n      if (this.hasArrows) {\r\n        $(document).on('keyup', e => {\r\n          if (e.keyCode === 37) this.prevLb();\r\n          else if (e.keyCode === 39) this.nextLb();\r\n        });\r\n\r\n        this.arrowLeft.on('click', e => {\r\n          e.stopPropagation();\r\n          this.prevLb();\r\n        });\r\n        this.arrowRight.on('click', e => {\r\n          e.stopPropagation();\r\n          this.nextLb();\r\n        });\r\n      }\r\n\r\n      window.addEventListener('layoutChange', () => {\r\n        this.resize();\r\n      });\r\n    }\r\n\r\n    active(id) {\r\n      if (!this.onScreen) {\r\n        this.onScreen = true;\r\n        this.$container.removeClass('hidden');\r\n        setTimeout(() => {\r\n          this.$container.addClass('active');\r\n        }, 0);\r\n\r\n        this.currentLb = id;\r\n        this.checkArrows();\r\n\r\n        if (this.options.onActivate !== undefined) {\r\n          this.options.onActivate.call(this.lightboxCollection[id]);\r\n        }\r\n      }\r\n    }\r\n\r\n    deactive() {\r\n      if (this.onScreen) {\r\n        this.onScreen = false;\r\n        this.$container.removeClass('active');\r\n        setTimeout(() => {\r\n          this.$container.addClass('hidden');\r\n        }, 300);\r\n        if (this.options.onDeactivate !== undefined) {\r\n          this.options.onDeactivate.call(this);\r\n        }\r\n      }\r\n    }\r\n\r\n    change(id) {\r\n      this.lightboxCollection[this.currentLb].onScreen = false;\r\n      this.currentLb = id;\r\n      this.checkArrows();\r\n\r\n      if (this.options.onChange !== undefined) {\r\n        this.options.onChange.call(this.lightboxCollection[this.currentLb]);\r\n      }\r\n    }\r\n\r\n    resize() {\r\n      if (this.options.onResize !== undefined) {\r\n        this.options.onResize.call(this.lightboxCollection[this.currentLb]);\r\n      }\r\n    }\r\n\r\n    nextLb() {\r\n      if (this.loop && this.$items.length - 1 === this.currentLb) {\r\n        this.change(0);\r\n      }\r\n      if (this.onScreen && !this.isRightHidden) {\r\n        this.change(this.currentLb + 1);\r\n      }\r\n    }\r\n    prevLb() {\r\n      if (this.loop && this.currentLb === 0) {\r\n        this.change(this.$items.length - 1);\r\n      }\r\n      if (this.onScreen && !this.isLeftHidden) {\r\n        this.change(this.currentLb - 1);\r\n      }\r\n    }\r\n\r\n    checkArrows() {\r\n      if (this.hasArrows && this.onScreen && !this.loop) {\r\n        if (this.currentLb + 1 === this.lightboxCollection.length) {\r\n          this.isRightHidden = true;\r\n          this.arrowRight.addClass('hidden');\r\n        } else if (this.isRightHidden) {\r\n          this.isRightHidden = false;\r\n          this.arrowRight.removeClass('hidden');\r\n        }\r\n        if (this.currentLb === 0) {\r\n          this.isLeftHidden = true;\r\n          this.arrowLeft.addClass('hidden');\r\n        } else if (this.isLeftHidden) {\r\n          this.isLeftHidden = false;\r\n          this.arrowLeft.removeClass('hidden');\r\n        }\r\n      }\r\n    }\r\n\r\n    recreate(items) {\r\n      this.lightboxCollection.map(singleLightbox => singleLightbox.destroy());\r\n      this.lightboxCollection = [];\r\n      if (items === undefined) {\r\n        this.$items = $(this.options.items);\r\n      } else {\r\n        this.$items = $(items);\r\n      }\r\n      this.$items.map((i, e) => {\r\n        let singleLb = new SingleLightbox(i, e, this);\r\n        this.lightboxCollection.push(singleLb);\r\n      });\r\n    }\r\n  }\r\n\r\n  window.addEventListener('afterLayoutChange', this.resize);\r\n\r\n  return function (options) {\r\n    const lb = new Lightbox(options);\r\n    return lb;\r\n  };\r\n})();\r\n\r\nif (typeof module !== 'undefined') module.exports = createLightbox;\r\n","/**\r\n * create new scroll item\r\n * @param {selector} element element to scroll\r\n * @param {object} options extra options\r\n * @param {function} options.onScroll function(scrollItem)\r\n * @param {function} options.onStateChange function(prop, value, scrollItem)\r\n * @param {bool} options.addClasses = false; Adds classes like `.isOnScreen`\r\n * @returns {object} scrollItem\r\n */\r\n\r\nconst $ = require('cash-dom');\r\nconst widok = require('./widok');\r\n\r\nconst createScrollItem = (function () {\r\n  class ScrollItem {\r\n    constructor(element, options) {\r\n      this.element = $(element);\r\n      this.offset = 0;\r\n      this.height = 0;\r\n      this.addClasses = options.addClasses;\r\n      this.isAboveScreen = false;\r\n      this.isCrossingScreenTop = false;\r\n      this.isCrossingScreenBottom = false;\r\n      this.isBelowScreen = false;\r\n      this.isOnScreen = false;\r\n      this.options = options;\r\n      this.onStateChange = this.options.onStateChange;\r\n      this.onScroll = this.options.onScroll;\r\n    }\r\n\r\n    _onResize() {\r\n      this.offset = this.element.offset().top;\r\n      this.height = this.element.outerHeight();\r\n      this._onScroll();\r\n    }\r\n\r\n    _onScroll() {\r\n      this.checkScreenRelation();\r\n      if (this.onScroll !== undefined) {\r\n        this.onScroll.call(this, this);\r\n      }\r\n    }\r\n\r\n    checkScreenRelation() {\r\n      if (this.offset + this.height < widok.s) {\r\n        this.setPropClass('AboveScreen', true);\r\n        this.setPropClass('CrossingScreenTop', false);\r\n        this.setPropClass('CrossingScreenBottom', false);\r\n        this.setPropClass('BelowScreen', false);\r\n        this.setPropClass('OnScreen', false);\r\n        return;\r\n      }\r\n      if (this.offset > widok.s + widok.h) {\r\n        this.setPropClass('AboveScreen', false);\r\n        this.setPropClass('CrossingScreenTop', false);\r\n        this.setPropClass('CrossingScreenBottom', false);\r\n        this.setPropClass('BelowScreen', true);\r\n        this.setPropClass('OnScreen', false);\r\n        return;\r\n      }\r\n      this.setPropClass('AboveScreen', false);\r\n      this.setPropClass('BelowScreen', false);\r\n      this.setPropClass('OnScreen', true);\r\n      this.setPropClass(\r\n        'CrossingScreenTop',\r\n        this.offset < widok.s && this.offset + this.height > widok.s\r\n      );\r\n      this.setPropClass(\r\n        'CrossingScreenBottom',\r\n        this.offset < widok.s + widok.h &&\r\n          this.offset + this.height > widok.s + widok.h\r\n      );\r\n    }\r\n\r\n    setPropClass(prop, value) {\r\n      if (this['is' + prop] !== value) {\r\n        this['is' + prop] = value;\r\n        if (this.addClasses) {\r\n          if (value) this.element.addClass(prop);\r\n          else this.element.removeClass(prop);\r\n        }\r\n        if (this.onStateChange !== void 0) {\r\n          this.onStateChange.call(this, prop, value, this);\r\n        }\r\n      }\r\n    }\r\n\r\n    screenPos(heightOffset) {\r\n      if (heightOffset === void 0) heightOffset = 0;\r\n      return (this.offset + this.height * heightOffset - widok.s) / widok.h;\r\n    }\r\n  }\r\n\r\n  const scrollItemCollection = [];\r\n\r\n  window.addEventListener('afterLayoutChange', function () {\r\n    scrollItemCollection.map(function (e) {\r\n      e._onResize();\r\n    });\r\n  });\r\n\r\n  window.addEventListener('scroll', function () {\r\n    scrollItemCollection.map(function (e) {\r\n      e._onScroll();\r\n    });\r\n  });\r\n\r\n  return function (element, options) {\r\n    if (options === undefined) options = {};\r\n    const scrollItem = new ScrollItem(element, options);\r\n    scrollItemCollection.push(scrollItem);\r\n    return scrollItem;\r\n  };\r\n})();\r\n\r\nif (typeof module !== 'undefined') module.exports = createScrollItem;\r\n","/**\r\n * Create a slider. Vertical slider might not work yet.\r\n * @param {object} optionsextra options\r\n *\r\n * main\r\n * @param {selector} options.wrap selector of the slider wrap\r\n * @param {selector} options.slideSelector default='.single-slide'\r\n * @param {boolean} options.isVertical default=false, direction of the slider\r\n *  selector of a single slide, searched inside wrap\r\n * @param {number} options.initialSlide default=0\r\n *  id of the initially selected slide\r\n * @param {boolean} options.loop default=false\r\n * @param {boolean} options.slidesAsLinks default=false\r\n *  clicking on a slide activates it\r\n * @param {boolean} options.adjustHeight default=false\r\n *  after switching slides the height of the slider is changed\r\n *\r\n * animation\r\n * @param {number} options.duration default=300\r\n *  duration of the sliding animation\r\n * @param {string} options.animationType default=\"slide\", 'fade' - fade effect\r\n *\r\n * bullets\r\n * @param {boolean} options.shouldHaveBullets default=true,\r\n * @param {selector} options.bulletContainer\r\n *  if undefined bullet container will get created inside options.wrap with\r\n *  class .slider-bullet-container\r\n * @param {selector} options.bulletSelector\r\n *  if undefined bullets will get created with class .slider-bullet\r\n *\r\n * controls\r\n * @param {boolean} options.mouseDrag default=false\r\n *  allows slider to be dragged with the mouse\r\n * @param {boolean} options.touchDrag default=false\r\n *  allows slider to be dragged on a touchscreen\r\n * @param {boolean} option.preventDefaultDrag default=false\r\n * @param {boolean} options.slideOnWheel default=false,\r\n * @param {boolean} options.useKeys default=false\r\n *  changes slides on arrow keys, can be changed later\r\n * @param {selector} options.arrowPrev\r\n *  selector of the up arrow, searched in the whole document\r\n * @param {selector} options.arrowNext analogous\r\n *\r\n * callbacks\r\n * @param {function} options.onActivate\r\n *  callback to be called when a slide activates\r\n * @param {function} options.onDeactivate analogous\r\n *\r\n * @returns Slider object\r\n */\r\n\r\nconst $ = require('cash-dom');\r\nconst createHoverable = require('./widok-hoverable');\r\n\r\nconst createSlider = (function () {\r\n  class Slider {\r\n    constructor(options) {\r\n      this.id = ++Slider.lastId;\r\n      this.wrap = $(options.wrap);\r\n      if (this.wrap.length !== 1) return;\r\n\r\n      this.prepareOptions(options);\r\n      this.currentSlideId = this.options.initialSlide; // id of the current slide\r\n      this.slideOffset = 0; // number of pixels from current slide beginning\r\n      this.position = 0; // current scroll amount in pixels\r\n      this.barSize = 0; // size of the entire scroll bar\r\n      this.size = 0; // size of the sizer element\r\n      this.isSliding = false; // is slider currently being animated\r\n      this.isDragged = false; // is slider currently being dragged\r\n      this.isEnabled = options.isEnabled;\r\n\r\n      this.prepareArrows();\r\n      this.prepareSlides();\r\n      this.prepareWheel();\r\n      this.prepareDrag();\r\n\r\n      this.checkSize = this.checkSize.bind(this);\r\n      this.onMouseMove = this.onMouseMove.bind(this);\r\n      this.endMouseMove = this.endMouseMove.bind(this);\r\n      window.addEventListener('layoutChange', this.checkSize);\r\n\r\n      if (this.options.loop) {\r\n        this.currentSlideId = this.slides.length / 3;\r\n        this.applyPosition();\r\n      }\r\n\r\n      this.slides[this.currentSlideId].activate();\r\n    }\r\n\r\n    prepareOptions(options) {\r\n      this.options = {\r\n        slideOnWheel: false,\r\n        shouldHaveBullets: true,\r\n        slideSelector: '.single-slide',\r\n        isVertical: false,\r\n        initialSlide: 0,\r\n        duration: 300,\r\n        mouseDrag: false,\r\n        touchDrag: false,\r\n        preventDefaultDrag: false,\r\n        useKeys: false,\r\n        loop: false,\r\n        slidesAsLinks: false,\r\n        adjustHeight: false,\r\n        animationType: 'slide',\r\n        isEnabled: true,\r\n      };\r\n      for (const optionName in options) {\r\n        this.options[optionName] = options[optionName];\r\n      }\r\n    }\r\n\r\n    prepareSlides() {\r\n      this.sizer = $('<div class=\"slider-sizer\">')\r\n        .css({\r\n          position: 'relative',\r\n          height: '100%',\r\n        })\r\n        .appendTo(this.wrap);\r\n      this.bar = $('<div class=\"slider-bar\">').appendTo(this.sizer);\r\n      this.slides = [];\r\n\r\n      if (this.options.shouldHaveBullets) {\r\n        if (\r\n          this.options.bulletContainer === undefined &&\r\n          this.options.bulletSelector === undefined\r\n        ) {\r\n          this.bulletContainer = $(document.createElement('div'))\r\n            .addClass('slider-bullet-container')\r\n            .appendTo(this.wrap)\r\n            .on('touchstart', event => {\r\n              if (!this.isEnabled) return;\r\n              event.stopPropagation();\r\n            });\r\n        } else {\r\n          this.bulletContainer = $(this.options.bulletContainer);\r\n        }\r\n      }\r\n\r\n      const foundSlides = this.wrap.find(this.options.slideSelector);\r\n      if (this.options.loop) {\r\n        foundSlides.clone().map((index, element) => {\r\n          let slide = new Slide(element, this);\r\n          slide.element.appendTo(this.bar);\r\n          this.slides.push(slide);\r\n        });\r\n        foundSlides.clone().map((index, element) => {\r\n          let slide = new Slide(element, this);\r\n          slide.element.appendTo(this.bar);\r\n          this.slides.push(slide);\r\n        });\r\n      }\r\n      foundSlides.map((index, element) => {\r\n        let slide = new Slide(element, this);\r\n        slide.element.appendTo(this.bar);\r\n        this.slides.push(slide);\r\n      });\r\n\r\n      this.slides.forEach(slide => slide.createBullet());\r\n\r\n      this.wrap.css({\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n      });\r\n      this.bar.css({\r\n        position: 'absolute',\r\n        height: 100 + '%',\r\n        width: 100 + '%',\r\n        left: 0,\r\n      });\r\n      if (!this.options.isVertical) {\r\n        const weightSum = this.slides.reduce(\r\n          (prev, curr) => prev + curr.weight,\r\n          0\r\n        );\r\n        this.bar.css({\r\n          width: weightSum * 100 + '%',\r\n          display: 'flex',\r\n          alignItems: 'flex-start',\r\n        });\r\n        this.slides.map(slide =>\r\n          slide.element.css({\r\n            width: (100 * slide.weight) / weightSum + '%',\r\n          })\r\n        );\r\n      }\r\n    }\r\n\r\n    prepareArrows() {\r\n      this.isArrowPrevActive = true;\r\n      this.isArrowNextActive = true;\r\n      this.arrowPrev = $(this.options.arrowPrev);\r\n      this.arrowNext = $(this.options.arrowNext);\r\n      if (this.options.arrowNext === undefined) {\r\n        this.arrowNext = this.wrap.find('.arrow-next');\r\n      }\r\n      if (this.options.arrowPrev === undefined) {\r\n        this.arrowPrev = this.wrap.find('.arrow-prev');\r\n      }\r\n\r\n      if (this.arrowNext.length > 0) {\r\n        this.arrowNext.on({\r\n          click: this.nextSlide.bind(this),\r\n          touchstart: event => event.stopPropagation(),\r\n        });\r\n        createHoverable(this.arrowNext);\r\n      }\r\n      if (this.arrowPrev.length > 0) {\r\n        this.arrowPrev.on({\r\n          click: this.prevSlide.bind(this),\r\n          touchstart: event => event.stopPropagation(),\r\n        });\r\n        createHoverable(this.arrowPrev);\r\n      }\r\n      $(window).on('keydown', event => {\r\n        if (!this.options.useKeys) return;\r\n        if (\r\n          (!this.options.isVertical && event.which === 39) ||\r\n          (this.options.isVertical && event.which === 40)\r\n        ) {\r\n          this.nextSlide();\r\n        } else if (\r\n          (!this.options.isVertical && event.which === 37) ||\r\n          (this.options.isVertical && event.which === 38)\r\n        ) {\r\n          this.prevSlide();\r\n        }\r\n      });\r\n    }\r\n\r\n    prepareWheel() {\r\n      if (this.options.slideOnWheel) {\r\n        this.wrap.on('wheel', event => {\r\n          if (!this.isEnabled) return;\r\n\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n          if (this.isSliding) return;\r\n\r\n          if (event.deltaY > 0) {\r\n            const slideBottom = this.slides[this.currentSlideId].size;\r\n            const wrapBottom = this.size - this.slideOffset;\r\n            if (slideBottom <= wrapBottom + 1) {\r\n              this.nextSlide();\r\n            } else {\r\n              this.slideOffset = Math.max(\r\n                this.slideOffset - 150,\r\n                -this.slides[this.currentSlideId].size + this.size\r\n              );\r\n              this.applyPosition();\r\n            }\r\n          } else if (event.deltaY < 0) {\r\n            if (0 <= this.slideOffset + 1) {\r\n              this.prevSlide();\r\n            } else {\r\n              this.slideOffset = Math.min(this.slideOffset + 150, 0);\r\n              this.applyPosition();\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    prepareDrag() {\r\n      if (this.options.touchDrag) {\r\n        this.endDrag = this.endDrag.bind(this);\r\n        this.onDrag = this.onDrag.bind(this);\r\n        this.wrap.on('touchstart', event => {\r\n          if (!this.isEnabled) return;\r\n          if (this.options.preventDefaultDrag) event.preventDefault();\r\n          if (this.isSliding) return;\r\n          this.dragStart = {\r\n            x: event.changedTouches[0].pageX,\r\n            y: event.changedTouches[0].pageY,\r\n          };\r\n          this.onMoveStart();\r\n          window.addEventListener('touchend', this.endDrag);\r\n          window.addEventListener('touchmove', this.onDrag);\r\n        });\r\n      }\r\n      if (this.options.mouseDrag) {\r\n        this.wrap.on('mousedown', event => {\r\n          if (!this.isEnabled) return;\r\n          event.preventDefault();\r\n          if (this.isSliding) return;\r\n          this.dragStart = {\r\n            x: event.pageX,\r\n            y: event.pageY,\r\n          };\r\n          this.onMoveStart();\r\n          window.addEventListener('mouseup', this.endMouseMove);\r\n          window.addEventListener('mousemove', this.onMouseMove);\r\n        });\r\n      }\r\n    }\r\n\r\n    onMoveStart() {\r\n      this.isDragged = true;\r\n      this.lastDrag = {\r\n        lastSaveId: 0,\r\n        values: [\r\n          {\r\n            x: this.dragStart.x,\r\n            y: this.dragStart.y,\r\n          },\r\n        ],\r\n      };\r\n    }\r\n\r\n    onDrag(event) {\r\n      const currentPos = {\r\n        x: event.changedTouches[0].pageX,\r\n        y: event.changedTouches[0].pageY,\r\n      };\r\n      this.onMove(currentPos);\r\n    }\r\n\r\n    onMouseMove(event) {\r\n      const currentPos = {\r\n        x: event.pageX,\r\n        y: event.pageY,\r\n      };\r\n      this.onMove(currentPos);\r\n    }\r\n\r\n    onMove(currentPos) {\r\n      this.lastDrag.lastSaveId = (this.lastDrag.lastSaveId + 1) % 10;\r\n      this.lastDrag.values[this.lastDrag.lastSaveId] = currentPos;\r\n      const axis = this.options.isVertical ? 'y' : 'x';\r\n      const diff = currentPos[axis] - this.dragStart[axis];\r\n      this.position =\r\n        this.slides[this.currentSlideId].offset - diff - this.slideOffset / 2;\r\n\r\n      if (this.options.isVertical) {\r\n        this.bar.css({\r\n          top: -this.position,\r\n        });\r\n      } else {\r\n        this.bar.css({\r\n          left: -this.position,\r\n        });\r\n      }\r\n    }\r\n\r\n    endDrag(event) {\r\n      const dragEnd = {\r\n        x: event.changedTouches[0].pageX,\r\n        y: event.changedTouches[0].pageY,\r\n      };\r\n      this.endMove(dragEnd);\r\n      window.removeEventListener('touchend', this.endDrag);\r\n      window.removeEventListener('touchmove', this.onDrag);\r\n    }\r\n\r\n    endMouseMove(event) {\r\n      const dragEnd = {\r\n        x: event.pageX,\r\n        y: event.pageY,\r\n      };\r\n      this.endMove(dragEnd);\r\n      window.removeEventListener('mouseup', this.endMouseMove);\r\n      window.removeEventListener('mousemove', this.onMouseMove);\r\n    }\r\n\r\n    endMove(dragEnd) {\r\n      const partNeededToSlide = 1 / 100;\r\n      this.isDragged = false;\r\n      const axis = this.options.isVertical ? 'y' : 'x';\r\n\r\n      let currentPos = this.slides[this.currentSlideId].offset;\r\n      currentPos -= dragEnd[axis] - this.dragStart[axis];\r\n\r\n      const applyFoundSlide = found => {\r\n        this.currentSlideId = found;\r\n        this.slideOffset = 0;\r\n      };\r\n\r\n      // previous position\r\n      if (dragEnd[axis] > this.dragStart[axis]) {\r\n        let found = 0;\r\n        for (let i = 0; i < this.slides.length; i++) {\r\n          const slideCenter = this.slides[i].offset + this.slides[i].size / 2;\r\n          const wrapStart = currentPos - this.slideOffset / 2;\r\n\r\n          if (slideCenter > wrapStart) {\r\n            found = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        const isSlidedEnoughToChange = () => {\r\n          const slidedAmount = dragEnd[axis] - this.dragStart[axis];\r\n          const amountNedeedToSlide =\r\n            this.slides[this.currentSlideId].size * partNeededToSlide;\r\n          return slidedAmount > amountNedeedToSlide;\r\n        };\r\n\r\n        if (this.currentSlideId === found) {\r\n          if (isSlidedEnoughToChange() && found > 0) applyFoundSlide(found - 1);\r\n        } else applyFoundSlide(found);\r\n      }\r\n\r\n      // next position\r\n      else if (dragEnd[axis] < this.dragStart[axis]) {\r\n        let found = this.slides.length - 1;\r\n        for (let i = 0; i < this.slides.length; i++) {\r\n          const slideCenter = this.slides[i].offset + this.slides[i].size / 2;\r\n          const wrapEnd = currentPos - this.slideOffset / 2 + this.size;\r\n          if (slideCenter > wrapEnd) {\r\n            found = Math.max(i - 1, 0);\r\n            break;\r\n          }\r\n        }\r\n\r\n        const isSlidedEnoughToChange = () => {\r\n          const slidedAmount = this.dragStart[axis] - dragEnd[axis];\r\n          const amountNedeedToSlide =\r\n            this.slides[this.currentSlideId].size * partNeededToSlide;\r\n          return slidedAmount > amountNedeedToSlide;\r\n        };\r\n\r\n        if (this.currentSlideId === found) {\r\n          if (isSlidedEnoughToChange() && found + 1 < this.slides.length)\r\n            applyFoundSlide(found + 1);\r\n        } else applyFoundSlide(found);\r\n      }\r\n\r\n      this.applyPosition();\r\n    }\r\n\r\n    checkSize() {\r\n      if (this.options.isVertical) {\r\n        this.size = this.sizer.height();\r\n      } else {\r\n        this.size = this.sizer.width();\r\n      }\r\n      this.slideOffset = 0;\r\n      this.barSize = 0;\r\n      this.gutter =\r\n        this.slides[0].element.outerWidth(true) -\r\n        this.slides[0].element.outerWidth();\r\n\r\n      const sliderOffset = this.isVertical\r\n        ? this.bar.offset().top\r\n        : this.bar.offset().left;\r\n      this.slides.map(slide => {\r\n        this.barSize += slide.checkSize(sliderOffset);\r\n      });\r\n      this.applyPosition(0);\r\n\r\n      if (!this.isVertical) {\r\n        const maxHeight = this.slides.reduce(\r\n          (prev, curr) => Math.max(prev, curr.element[0].scrollHeight),\r\n          0\r\n        );\r\n        if (this.options.adjustHeight) {\r\n          this.wrap.css({\r\n            height: this.slides[this.currentSlideId].element[0].scrollHeight,\r\n          });\r\n        } else {\r\n          this.wrap.css({\r\n            height: maxHeight,\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    prevSlide() {\r\n      if (this.currentSlideId <= 0) return;\r\n      if (this.isSliding) return;\r\n      this.currentSlideId--;\r\n      this.slideOffset = 0;\r\n      this.applyPosition();\r\n    }\r\n\r\n    nextSlide() {\r\n      if (this.currentSlideId >= this.slides.length - 1) return;\r\n      if (this.isSliding) return;\r\n      this.currentSlideId++;\r\n      this.slideOffset = 0;\r\n      this.applyPosition();\r\n    }\r\n\r\n    applyPosition(duration) {\r\n      const adjustPosition = () => {\r\n        if (this.options.loop) {\r\n          const trueLength = this.slides.length / 3;\r\n          let isAdjusted = false;\r\n          if (this.currentSlideId < trueLength) {\r\n            this.currentSlideId += trueLength;\r\n            isAdjusted = true;\r\n          } else if (this.currentSlideId >= 2 * trueLength) {\r\n            this.currentSlideId -= trueLength;\r\n            isAdjusted = true;\r\n          }\r\n          if (isAdjusted) {\r\n            this.wrap.addClass('adjusting');\r\n            this.applyPosition(0);\r\n            setTimeout(() => {\r\n              this.wrap.removeClass('adjusting');\r\n            }, 100);\r\n          }\r\n        }\r\n      };\r\n      this.isSliding = true;\r\n      if (duration === undefined) {\r\n        duration = this.options.duration;\r\n      }\r\n      this.slideOffset = this.size - this.slides[this.currentSlideId].size;\r\n      this.position =\r\n        this.slides[this.currentSlideId].offset - this.slideOffset / 2;\r\n\r\n      this.slides.forEach((slide, index) => {\r\n        if (index < this.currentSlideId) slide.markAsPrev();\r\n        else if (index > this.currentSlideId) slide.markAsNext();\r\n        else slide.activate();\r\n      });\r\n      this.handleArrows();\r\n\r\n      let css;\r\n      if (this.options.animationType === 'fade') {\r\n        css = {\r\n          transition: `opacity ${duration / 2 / 1000}s`,\r\n          opacity: 0,\r\n        };\r\n      } else {\r\n        css = {\r\n          transition: `${duration / 1000}s`,\r\n        };\r\n      }\r\n\r\n      this.bar.css(css);\r\n\r\n      if (this.options.isVertical) {\r\n        css.top = -this.position;\r\n      } else {\r\n        css.left = -this.position;\r\n      }\r\n\r\n      if (this.options.animationType === 'fade') {\r\n        setTimeout(() => {\r\n          this.bar.css(css);\r\n          this.bar.css({\r\n            opacity: 1,\r\n          });\r\n          this.isSliding = false;\r\n\r\n          // adjust the position if slider needs to loop\r\n          adjustPosition();\r\n        }, duration / 2);\r\n      } else {\r\n        this.bar.css(css);\r\n        setTimeout(() => {\r\n          this.bar.css({\r\n            transition: 'none',\r\n          });\r\n          this.isSliding = false;\r\n\r\n          // adjust the position if slider needs to loop\r\n          adjustPosition();\r\n        }, duration);\r\n      }\r\n      setTimeout(() => {\r\n        if (this.options.adjustHeight) {\r\n          this.wrap.css({\r\n            height: this.slides[this.currentSlideId].element[0].scrollHeight,\r\n          });\r\n        }\r\n      }, duration);\r\n    }\r\n\r\n    handleArrows() {\r\n      if (this.currentSlideId === this.slides.length - 1) {\r\n        if (this.isArrowNextActive) {\r\n          this.arrowNext.addClass('disabled');\r\n          this.isArrowNextActive = false;\r\n        }\r\n      } else if (!this.isArrowNextActive) {\r\n        this.arrowNext.removeClass('disabled');\r\n        this.isArrowNextActive = true;\r\n      }\r\n\r\n      if (this.currentSlideId === 0) {\r\n        if (this.isArrowPrevActive) {\r\n          this.arrowPrev.addClass('disabled');\r\n          this.isArrowPrevActive = false;\r\n        }\r\n      } else if (!this.isArrowPrevActive) {\r\n        this.arrowPrev.removeClass('disabled');\r\n        this.isArrowPrevActive = true;\r\n      }\r\n    }\r\n  }\r\n  Slider.lastId = -1;\r\n\r\n  class Slide {\r\n    constructor(element, slider) {\r\n      this.element = $(element);\r\n      if (this.element.length !== 1) return;\r\n\r\n      this.content = $('<div class=\"single-slide-content\">')\r\n        .append(this.element.children())\r\n        .appendTo(this.element);\r\n\r\n      this.slider = slider;\r\n      this.weight = this.element.data('weight');\r\n      if (this.weight === undefined) this.weight = 1;\r\n      this.id = this.slider.slides.length;\r\n      this.realId = this.id;\r\n      this.directionToActive = undefined;\r\n      this.size = 0;\r\n      this.offset = 0;\r\n\r\n      if (this.slider.options.slidesAsLinks) {\r\n        this.element.on('click', () => {\r\n          if (this.directionToActive === 0) return;\r\n          if (this.slider.isSliding) return;\r\n          this.goTo();\r\n        });\r\n      }\r\n    }\r\n\r\n    createBullet() {\r\n      if (this.slider.bulletContainer) {\r\n        if (this.slider.options.loop) {\r\n          if (this.id >= (2 * this.slider.slides.length) / 3) {\r\n            this.realId -= (this.slider.slides.length / 3) * 2;\r\n          } else if (this.id >= this.slider.slides.length / 3) {\r\n            this.realId -= this.slider.slides.length / 3;\r\n          }\r\n        }\r\n        if (\r\n          !this.slider.options.loop ||\r\n          (this.id >= this.slider.slides.length / 3 &&\r\n            this.id < (2 * this.slider.slides.length) / 3)\r\n        ) {\r\n          this.bullet = new Bullet(this.slider, this);\r\n        } else {\r\n          this.bulletLink = {\r\n            isLink: true,\r\n            target: this.slider.slides[\r\n              this.realId + this.slider.slides.length / 3\r\n            ],\r\n          };\r\n        }\r\n      }\r\n    }\r\n\r\n    checkSize(sliderOffset) {\r\n      if (this.slider.isVertical) {\r\n        this.offset = this.element.offset().top - sliderOffset;\r\n        this.size = this.content.outerHeight(true);\r\n      } else {\r\n        this.offset = this.element.offset().left - sliderOffset;\r\n        this.size = this.content.outerWidth(true);\r\n      }\r\n\r\n      return this.size;\r\n    }\r\n\r\n    goTo() {\r\n      this.slider.currentSlideId = this.id;\r\n      this.slider.applyPosition();\r\n    }\r\n\r\n    activate() {\r\n      if (this.directionToActive !== 0) {\r\n        if (this.bullet !== undefined) this.bullet.element.addClass('active');\r\n        else if (this.bulletLink !== undefined) {\r\n          this.bulletLink.target.bullet.element.addClass('active');\r\n        }\r\n        this.element.addClass('active').removeClass('slide-prev slide-next');\r\n        this.directionToActive = 0;\r\n        if (this.slider.options.onActivate !== undefined) {\r\n          this.slider.options.onActivate.call(this, this, this.slider);\r\n        }\r\n      }\r\n    }\r\n\r\n    deactivate() {\r\n      if (\r\n        this.directionToActive === 0 ||\r\n        this.directionToActive === undefined\r\n      ) {\r\n        this.bullet && this.bullet.element.removeClass('active');\r\n        this.element.removeClass('active');\r\n        if (this.slider.options.onDeactivate !== undefined) {\r\n          this.slider.options.onDeactivate.call(this, this, this.slider);\r\n        }\r\n      }\r\n    }\r\n\r\n    markAsPrev() {\r\n      this.deactivate();\r\n      if (this.directionToActive >= 0 || this.directionToActive === undefined) {\r\n        this.element.removeClass('slide-next').addClass('slide-prev');\r\n        this.directionToActive = -1;\r\n      }\r\n    }\r\n\r\n    markAsNext() {\r\n      this.deactivate();\r\n      if (this.directionToActive <= 0 || this.directionToActive === undefined) {\r\n        this.element.removeClass('slide-prev').addClass('slide-next');\r\n        this.directionToActive = 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  class Bullet {\r\n    constructor(slider, slide, dummy) {\r\n      this.slider = slider;\r\n      this.slide = slide;\r\n      if (this.slider.options.bulletSelector === undefined) {\r\n        this.element = $(document.createElement('div'))\r\n          .addClass('slider-bullet')\r\n          .appendTo(this.slider.bulletContainer);\r\n      } else {\r\n        this.element = this.slider.bulletContainer\r\n          .find(this.slider.options.bulletSelector)\r\n          .eq(this.slide.realId);\r\n      }\r\n      this.element.on('click', this.slide.goTo.bind(this.slide));\r\n      createHoverable(this.element);\r\n    }\r\n  }\r\n\r\n  return function (options) {\r\n    return new Slider(options);\r\n  };\r\n})();\r\n\r\nif (typeof module !== 'undefined') module.exports = createSlider;\r\n","function throttle(ms, callback) {\r\n  let lastCall = 0;\r\n  let timeout;\r\n  return a => {\r\n    const now = new Date().getTime();\r\n    if (now - lastCall >= ms) {\r\n      lastCall = now;\r\n      callback(a);\r\n    } else {\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout((a => callback.bind(this, a))(a), ms);\r\n    }\r\n  };\r\n}\r\n\r\nif (typeof module !== 'undefined') module.exports = throttle;\r\n","const $ = require('cash-dom');\r\nconst throttle = require('./widok-throttle');\r\n\r\nconst widok = {\r\n  h: 0,\r\n  w: 0,\r\n  s: 0,\r\n  em: 0,\r\n  sizeCheck: () => {\r\n    widok.h = $(window).height();\r\n    widok.w = $(window).width();\r\n    widok.em = parseFloat($('body').css('font-size'));\r\n    window.dispatchEvent(new CustomEvent('layoutChange'));\r\n    widok.scrollCheck();\r\n    window.dispatchEvent(new CustomEvent('afterLayoutChange'));\r\n  },\r\n  scrollCheck: () => {\r\n    widok.s = window.scrollY;\r\n  },\r\n};\r\n\r\n$(window).on({\r\n  resize: throttle(100, widok.sizeCheck),\r\n  load: widok.sizeCheck,\r\n  scroll: widok.scrollCheck,\r\n});\r\n\r\n$(document).on('ready', widok.sizeCheck);\r\n\r\nif (typeof module !== 'undefined') module.exports = widok;\r\n","/* MIT https://github.com/fabiospampinato/cash */\n(function(){\n\"use strict\";\n\nvar propMap = {\n  /* GENERAL */\n  \"class\": 'className',\n  contenteditable: 'contentEditable',\n\n  /* LABEL */\n  \"for\": 'htmlFor',\n\n  /* INPUT */\n  readonly: 'readOnly',\n  maxlength: 'maxLength',\n  tabindex: 'tabIndex',\n\n  /* TABLE */\n  colspan: 'colSpan',\n  rowspan: 'rowSpan',\n\n  /* IMAGE */\n  usemap: 'useMap'\n};\n\nfunction attempt(fn, arg) {\n  try {\n    return fn(arg);\n  } catch (_a) {\n    return arg;\n  }\n}\n\nvar doc = document,\n    win = window,\n    docEle = doc.documentElement,\n    createElement = doc.createElement.bind(doc),\n    div = createElement('div'),\n    table = createElement('table'),\n    tbody = createElement('tbody'),\n    tr = createElement('tr'),\n    isArray = Array.isArray,\n    ArrayPrototype = Array.prototype,\n    concat = ArrayPrototype.concat,\n    filter = ArrayPrototype.filter,\n    indexOf = ArrayPrototype.indexOf,\n    map = ArrayPrototype.map,\n    push = ArrayPrototype.push,\n    slice = ArrayPrototype.slice,\n    some = ArrayPrototype.some,\n    splice = ArrayPrototype.splice;\nvar idRe = /^#(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/,\n    classRe = /^\\.(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/,\n    htmlRe = /<.+>/,\n    tagRe = /^\\w+$/; // @require ./variables.ts\n\nfunction find(selector, context) {\n  return !selector || !isDocument(context) && !isElement(context) ? [] : classRe.test(selector) ? context.getElementsByClassName(selector.slice(1)) : tagRe.test(selector) ? context.getElementsByTagName(selector) : context.querySelectorAll(selector);\n} // @require ./find.ts\n// @require ./variables.ts\n\n\nvar Cash =\n/** @class */\nfunction () {\n  function Cash(selector, context) {\n    if (!selector) return;\n    if (isCash(selector)) return selector;\n    var eles = selector;\n\n    if (isString(selector)) {\n      var ctx = (isCash(context) ? context[0] : context) || doc;\n      eles = idRe.test(selector) ? ctx.getElementById(selector.slice(1)) : htmlRe.test(selector) ? parseHTML(selector) : find(selector, ctx);\n      if (!eles) return;\n    } else if (isFunction(selector)) {\n      return this.ready(selector); //FIXME: `fn.ready` is not included in `core`, but it's actually a core functionality\n    }\n\n    if (eles.nodeType || eles === win) eles = [eles];\n    this.length = eles.length;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n      this[i] = eles[i];\n    }\n  }\n\n  Cash.prototype.init = function (selector, context) {\n    return new Cash(selector, context);\n  };\n\n  return Cash;\n}();\n\nvar fn = Cash.prototype,\n    cash = fn.init;\ncash.fn = cash.prototype = fn; // Ensuring that `cash () instanceof cash`\n\nfn.length = 0;\nfn.splice = splice; // Ensuring a cash collection gets printed as array-like in Chrome's devtools\n\nif (typeof Symbol === 'function') {\n  // Ensuring a cash collection is iterable\n  fn[Symbol['iterator']] = ArrayPrototype[Symbol['iterator']];\n}\n\nfn.map = function (callback) {\n  return cash(concat.apply([], map.call(this, function (ele, i) {\n    return callback.call(ele, i, ele);\n  })));\n};\n\nfn.slice = function (start, end) {\n  return cash(slice.call(this, start, end));\n}; // @require ./cash.ts\n\n\nvar dashAlphaRe = /-([a-z])/g;\n\nfunction camelCase(str) {\n  return str.replace(dashAlphaRe, function (match, letter) {\n    return letter.toUpperCase();\n  });\n}\n\ncash.guid = 1; // @require ./cash.ts\n\nfunction matches(ele, selector) {\n  var matches = ele && (ele['matches'] || ele['webkitMatchesSelector'] || ele['msMatchesSelector']);\n  return !!matches && !!selector && matches.call(ele, selector);\n}\n\nfunction isCash(x) {\n  return x instanceof Cash;\n}\n\nfunction isWindow(x) {\n  return !!x && x === x.window;\n}\n\nfunction isDocument(x) {\n  return !!x && x.nodeType === 9;\n}\n\nfunction isElement(x) {\n  return !!x && x.nodeType === 1;\n}\n\nfunction isBoolean(x) {\n  return typeof x === 'boolean';\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nfunction isString(x) {\n  return typeof x === 'string';\n}\n\nfunction isUndefined(x) {\n  return x === undefined;\n}\n\nfunction isNull(x) {\n  return x === null;\n}\n\nfunction isNumeric(x) {\n  return !isNaN(parseFloat(x)) && isFinite(x);\n}\n\nfunction isPlainObject(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  var proto = Object.getPrototypeOf(x);\n  return proto === null || proto === Object.prototype;\n}\n\ncash.isWindow = isWindow;\ncash.isFunction = isFunction;\ncash.isArray = isArray;\ncash.isNumeric = isNumeric;\ncash.isPlainObject = isPlainObject;\n\nfn.get = function (index) {\n  if (isUndefined(index)) return slice.call(this);\n  index = Number(index);\n  return this[index < 0 ? index + this.length : index];\n};\n\nfn.eq = function (index) {\n  return cash(this.get(index));\n};\n\nfn.first = function () {\n  return this.eq(0);\n};\n\nfn.last = function () {\n  return this.eq(-1);\n};\n\nfunction each(arr, callback, _reverse) {\n  if (_reverse) {\n    var i = arr.length;\n\n    while (i--) {\n      if (callback.call(arr[i], i, arr[i]) === false) return arr;\n    }\n  } else if (isPlainObject(arr)) {\n    var keys = Object.keys(arr);\n\n    for (var i = 0, l = keys.length; i < l; i++) {\n      var key = keys[i];\n      if (callback.call(arr[key], key, arr[key]) === false) return arr;\n    }\n  } else {\n    for (var i = 0, l = arr.length; i < l; i++) {\n      if (callback.call(arr[i], i, arr[i]) === false) return arr;\n    }\n  }\n\n  return arr;\n}\n\ncash.each = each;\n\nfn.each = function (callback) {\n  return each(this, callback);\n};\n\nfn.prop = function (prop, value) {\n  if (!prop) return;\n\n  if (isString(prop)) {\n    prop = propMap[prop] || prop;\n    if (arguments.length < 2) return this[0] && this[0][prop];\n    return this.each(function (i, ele) {\n      ele[prop] = value;\n    });\n  }\n\n  for (var key in prop) {\n    this.prop(key, prop[key]);\n  }\n\n  return this;\n};\n\nfn.removeProp = function (prop) {\n  return this.each(function (i, ele) {\n    delete ele[propMap[prop] || prop];\n  });\n};\n\nfunction extend() {\n  var sources = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n\n  var deep = isBoolean(sources[0]) ? sources.shift() : false,\n      target = sources.shift(),\n      length = sources.length;\n  if (!target) return {};\n  if (!length) return extend(deep, cash, target);\n\n  for (var i = 0; i < length; i++) {\n    var source = sources[i];\n\n    for (var key in source) {\n      if (deep && (isArray(source[key]) || isPlainObject(source[key]))) {\n        if (!target[key] || target[key].constructor !== source[key].constructor) target[key] = new source[key].constructor();\n        extend(deep, target[key], source[key]);\n      } else {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n}\n\ncash.extend = extend;\n\nfn.extend = function (plugins) {\n  return extend(fn, plugins);\n}; // @require ./matches.ts\n// @require ./type_checking.ts\n\n\nfunction getCompareFunction(comparator) {\n  return isString(comparator) ? function (i, ele) {\n    return matches(ele, comparator);\n  } : isFunction(comparator) ? comparator : isCash(comparator) ? function (i, ele) {\n    return comparator.is(ele);\n  } : !comparator ? function () {\n    return false;\n  } : function (i, ele) {\n    return ele === comparator;\n  };\n}\n\nfn.filter = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return cash(filter.call(this, function (ele, i) {\n    return compare.call(ele, i, ele);\n  }));\n}; // @require collection/filter.ts\n\n\nfunction filtered(collection, comparator) {\n  return !comparator ? collection : collection.filter(comparator);\n} // @require ./type_checking.ts\n\n\nvar splitValuesRe = /\\S+/g;\n\nfunction getSplitValues(str) {\n  return isString(str) ? str.match(splitValuesRe) || [] : [];\n}\n\nfn.hasClass = function (cls) {\n  return !!cls && some.call(this, function (ele) {\n    return isElement(ele) && ele.classList.contains(cls);\n  });\n};\n\nfn.removeAttr = function (attr) {\n  var attrs = getSplitValues(attr);\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    each(attrs, function (i, a) {\n      ele.removeAttribute(a);\n    });\n  });\n};\n\nfunction attr(attr, value) {\n  if (!attr) return;\n\n  if (isString(attr)) {\n    if (arguments.length < 2) {\n      if (!this[0] || !isElement(this[0])) return;\n      var value_1 = this[0].getAttribute(attr);\n      return isNull(value_1) ? undefined : value_1;\n    }\n\n    if (isUndefined(value)) return this;\n    if (isNull(value)) return this.removeAttr(attr);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n      ele.setAttribute(attr, value);\n    });\n  }\n\n  for (var key in attr) {\n    this.attr(key, attr[key]);\n  }\n\n  return this;\n}\n\nfn.attr = attr;\n\nfn.toggleClass = function (cls, force) {\n  var classes = getSplitValues(cls),\n      isForce = !isUndefined(force);\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    each(classes, function (i, c) {\n      if (isForce) {\n        force ? ele.classList.add(c) : ele.classList.remove(c);\n      } else {\n        ele.classList.toggle(c);\n      }\n    });\n  });\n};\n\nfn.addClass = function (cls) {\n  return this.toggleClass(cls, true);\n};\n\nfn.removeClass = function (cls) {\n  if (arguments.length) return this.toggleClass(cls, false);\n  return this.attr('class', '');\n};\n\nfunction pluck(arr, prop, deep, until) {\n  var plucked = [],\n      isCallback = isFunction(prop),\n      compare = until && getCompareFunction(until);\n\n  for (var i = 0, l = arr.length; i < l; i++) {\n    if (isCallback) {\n      var val_1 = prop(arr[i]);\n      if (val_1.length) push.apply(plucked, val_1);\n    } else {\n      var val_2 = arr[i][prop];\n\n      while (val_2 != null) {\n        if (until && compare(-1, val_2)) break;\n        plucked.push(val_2);\n        val_2 = deep ? val_2[prop] : null;\n      }\n    }\n  }\n\n  return plucked;\n}\n\nfunction unique(arr) {\n  return arr.length > 1 ? filter.call(arr, function (item, index, self) {\n    return indexOf.call(self, item) === index;\n  }) : arr;\n}\n\ncash.unique = unique;\n\nfn.add = function (selector, context) {\n  return cash(unique(this.get().concat(cash(selector, context).get())));\n}; // @require core/type_checking.ts\n// @require core/variables.ts\n\n\nfunction computeStyle(ele, prop, isVariable) {\n  if (!isElement(ele)) return;\n  var style = win.getComputedStyle(ele, null);\n  return isVariable ? style.getPropertyValue(prop) || undefined : style[prop] || ele.style[prop];\n} // @require ./compute_style.ts\n\n\nfunction computeStyleInt(ele, prop) {\n  return parseInt(computeStyle(ele, prop), 10) || 0;\n}\n\nvar cssVariableRe = /^--/; // @require ./variables.ts\n\nfunction isCSSVariable(prop) {\n  return cssVariableRe.test(prop);\n} // @require core/camel_case.ts\n// @require core/cash.ts\n// @require core/each.ts\n// @require core/variables.ts\n// @require ./is_css_variable.ts\n\n\nvar prefixedProps = {},\n    style = div.style,\n    vendorsPrefixes = ['webkit', 'moz', 'ms'];\n\nfunction getPrefixedProp(prop, isVariable) {\n  if (isVariable === void 0) {\n    isVariable = isCSSVariable(prop);\n  }\n\n  if (isVariable) return prop;\n\n  if (!prefixedProps[prop]) {\n    var propCC = camelCase(prop),\n        propUC = \"\" + propCC[0].toUpperCase() + propCC.slice(1),\n        props = (propCC + \" \" + vendorsPrefixes.join(propUC + \" \") + propUC).split(' ');\n    each(props, function (i, p) {\n      if (p in style) {\n        prefixedProps[prop] = p;\n        return false;\n      }\n    });\n  }\n\n  return prefixedProps[prop];\n}\n\n; // @require core/type_checking.ts\n// @require ./is_css_variable.ts\n\nvar numericProps = {\n  animationIterationCount: true,\n  columnCount: true,\n  flexGrow: true,\n  flexShrink: true,\n  fontWeight: true,\n  gridArea: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnStart: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowStart: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  widows: true,\n  zIndex: true\n};\n\nfunction getSuffixedValue(prop, value, isVariable) {\n  if (isVariable === void 0) {\n    isVariable = isCSSVariable(prop);\n  }\n\n  return !isVariable && !numericProps[prop] && isNumeric(value) ? value + \"px\" : value;\n}\n\nfunction css(prop, value) {\n  if (isString(prop)) {\n    var isVariable_1 = isCSSVariable(prop);\n    prop = getPrefixedProp(prop, isVariable_1);\n    if (arguments.length < 2) return this[0] && computeStyle(this[0], prop, isVariable_1);\n    if (!prop) return this;\n    value = getSuffixedValue(prop, value, isVariable_1);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n\n      if (isVariable_1) {\n        ele.style.setProperty(prop, value);\n      } else {\n        ele.style[prop] = value;\n      }\n    });\n  }\n\n  for (var key in prop) {\n    this.css(key, prop[key]);\n  }\n\n  return this;\n}\n\n;\nfn.css = css; // @optional ./css.ts\n// @require core/attempt.ts\n// @require core/camel_case.ts\n\nvar JSONStringRe = /^\\s+|\\s+$/;\n\nfunction getData(ele, key) {\n  var value = ele.dataset[key] || ele.dataset[camelCase(key)];\n  if (JSONStringRe.test(value)) return value;\n  return attempt(JSON.parse, value);\n} // @require core/attempt.ts\n// @require core/camel_case.ts\n\n\nfunction setData(ele, key, value) {\n  value = attempt(JSON.stringify, value);\n  ele.dataset[camelCase(key)] = value;\n}\n\nfunction data(name, value) {\n  if (!name) {\n    if (!this[0]) return;\n    var datas = {};\n\n    for (var key in this[0].dataset) {\n      datas[key] = getData(this[0], key);\n    }\n\n    return datas;\n  }\n\n  if (isString(name)) {\n    if (arguments.length < 2) return this[0] && getData(this[0], name);\n    if (isUndefined(value)) return this;\n    return this.each(function (i, ele) {\n      setData(ele, name, value);\n    });\n  }\n\n  for (var key in name) {\n    this.data(key, name[key]);\n  }\n\n  return this;\n}\n\nfn.data = data; // @optional ./data.ts\n\nfunction getDocumentDimension(doc, dimension) {\n  var docEle = doc.documentElement;\n  return Math.max(doc.body[\"scroll\" + dimension], docEle[\"scroll\" + dimension], doc.body[\"offset\" + dimension], docEle[\"offset\" + dimension], docEle[\"client\" + dimension]);\n} // @require css/helpers/compute_style_int.ts\n\n\nfunction getExtraSpace(ele, xAxis) {\n  return computeStyleInt(ele, \"border\" + (xAxis ? 'Left' : 'Top') + \"Width\") + computeStyleInt(ele, \"padding\" + (xAxis ? 'Left' : 'Top')) + computeStyleInt(ele, \"padding\" + (xAxis ? 'Right' : 'Bottom')) + computeStyleInt(ele, \"border\" + (xAxis ? 'Right' : 'Bottom') + \"Width\");\n}\n\neach([true, false], function (i, outer) {\n  each(['Width', 'Height'], function (i, prop) {\n    var name = \"\" + (outer ? 'outer' : 'inner') + prop;\n\n    fn[name] = function (includeMargins) {\n      if (!this[0]) return;\n      if (isWindow(this[0])) return outer ? this[0][\"inner\" + prop] : this[0].document.documentElement[\"client\" + prop];\n      if (isDocument(this[0])) return getDocumentDimension(this[0], prop);\n      return this[0][\"\" + (outer ? 'offset' : 'client') + prop] + (includeMargins && outer ? computeStyleInt(this[0], \"margin\" + (i ? 'Top' : 'Left')) + computeStyleInt(this[0], \"margin\" + (i ? 'Bottom' : 'Right')) : 0);\n    };\n  });\n});\neach(['Width', 'Height'], function (index, prop) {\n  var propLC = prop.toLowerCase();\n\n  fn[propLC] = function (value) {\n    if (!this[0]) return isUndefined(value) ? undefined : this;\n\n    if (!arguments.length) {\n      if (isWindow(this[0])) return this[0].document.documentElement[\"client\" + prop];\n      if (isDocument(this[0])) return getDocumentDimension(this[0], prop);\n      return this[0].getBoundingClientRect()[propLC] - getExtraSpace(this[0], !index);\n    }\n\n    var valueNumber = parseInt(value, 10);\n    return this.each(function (i, ele) {\n      if (!isElement(ele)) return;\n      var boxSizing = computeStyle(ele, 'boxSizing');\n      ele.style[propLC] = getSuffixedValue(propLC, valueNumber + (boxSizing === 'border-box' ? getExtraSpace(ele, !index) : 0));\n    });\n  };\n}); // @optional ./inner_outer.ts\n// @optional ./normal.ts\n// @require css/helpers/compute_style.ts\n\nvar defaultDisplay = {};\n\nfunction getDefaultDisplay(tagName) {\n  if (defaultDisplay[tagName]) return defaultDisplay[tagName];\n  var ele = createElement(tagName);\n  doc.body.insertBefore(ele, null);\n  var display = computeStyle(ele, 'display');\n  doc.body.removeChild(ele);\n  return defaultDisplay[tagName] = display !== 'none' ? display : 'block';\n} // @require css/helpers/compute_style.ts\n\n\nfunction isHidden(ele) {\n  return computeStyle(ele, 'display') === 'none';\n}\n\nvar displayProperty = '___cd';\n\nfn.toggle = function (force) {\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    var show = isUndefined(force) ? isHidden(ele) : force;\n\n    if (show) {\n      ele.style.display = ele[displayProperty] || '';\n\n      if (isHidden(ele)) {\n        ele.style.display = getDefaultDisplay(ele.tagName);\n      }\n    } else {\n      ele[displayProperty] = computeStyle(ele, 'display');\n      ele.style.display = 'none';\n    }\n  });\n};\n\nfn.hide = function () {\n  return this.toggle(false);\n};\n\nfn.show = function () {\n  return this.toggle(true);\n}; // @optional ./hide.ts\n// @optional ./show.ts\n// @optional ./toggle.ts\n\n\nfunction hasNamespaces(ns1, ns2) {\n  return !ns2 || !some.call(ns2, function (ns) {\n    return ns1.indexOf(ns) < 0;\n  });\n}\n\nvar eventsNamespace = '___ce',\n    eventsNamespacesSeparator = '.',\n    eventsFocus = {\n  focus: 'focusin',\n  blur: 'focusout'\n},\n    eventsHover = {\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout'\n},\n    eventsMouseRe = /^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i; // @require ./variables.ts\n\nfunction getEventNameBubbling(name) {\n  return eventsHover[name] || eventsFocus[name] || name;\n} // @require ./variables.ts\n\n\nfunction getEventsCache(ele) {\n  return ele[eventsNamespace] = ele[eventsNamespace] || {};\n} // @require core/guid.ts\n// @require events/helpers/get_events_cache.ts\n\n\nfunction addEvent(ele, name, namespaces, selector, callback) {\n  var eventCache = getEventsCache(ele);\n  eventCache[name] = eventCache[name] || [];\n  eventCache[name].push([namespaces, selector, callback]);\n  ele.addEventListener(name, callback);\n} // @require ./variables.ts\n\n\nfunction parseEventName(eventName) {\n  var parts = eventName.split(eventsNamespacesSeparator);\n  return [parts[0], parts.slice(1).sort()]; // [name, namespace[]]\n} // @require ./get_events_cache.ts\n// @require ./has_namespaces.ts\n// @require ./parse_event_name.ts\n\n\nfunction removeEvent(ele, name, namespaces, selector, callback) {\n  var cache = getEventsCache(ele);\n\n  if (!name) {\n    for (name in cache) {\n      removeEvent(ele, name, namespaces, selector, callback);\n    }\n  } else if (cache[name]) {\n    cache[name] = cache[name].filter(function (_a) {\n      var ns = _a[0],\n          sel = _a[1],\n          cb = _a[2];\n      if (callback && cb.guid !== callback.guid || !hasNamespaces(ns, namespaces) || selector && selector !== sel) return true;\n      ele.removeEventListener(name, cb);\n    });\n  }\n}\n\nfn.off = function (eventFullName, selector, callback) {\n  var _this = this;\n\n  if (isUndefined(eventFullName)) {\n    this.each(function (i, ele) {\n      if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n      removeEvent(ele);\n    });\n  } else if (!isString(eventFullName)) {\n    for (var key in eventFullName) {\n      this.off(key, eventFullName[key]);\n    }\n  } else {\n    if (isFunction(selector)) {\n      callback = selector;\n      selector = '';\n    }\n\n    each(getSplitValues(eventFullName), function (i, eventFullName) {\n      var _a = parseEventName(eventFullName),\n          nameOriginal = _a[0],\n          namespaces = _a[1],\n          name = getEventNameBubbling(nameOriginal);\n\n      _this.each(function (i, ele) {\n        if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n        removeEvent(ele, name, namespaces, selector, callback);\n      });\n    });\n  }\n\n  return this;\n};\n\nfunction on(eventFullName, selector, data, callback, _one) {\n  var _this = this;\n\n  if (!isString(eventFullName)) {\n    for (var key in eventFullName) {\n      this.on(key, selector, data, eventFullName[key], _one);\n    }\n\n    return this;\n  }\n\n  if (!isString(selector)) {\n    if (isUndefined(selector) || isNull(selector)) {\n      selector = '';\n    } else if (isUndefined(data)) {\n      data = selector;\n      selector = '';\n    } else {\n      callback = data;\n      data = selector;\n      selector = '';\n    }\n  }\n\n  if (!isFunction(callback)) {\n    callback = data;\n    data = undefined;\n  }\n\n  if (!callback) return this;\n  each(getSplitValues(eventFullName), function (i, eventFullName) {\n    var _a = parseEventName(eventFullName),\n        nameOriginal = _a[0],\n        namespaces = _a[1],\n        name = getEventNameBubbling(nameOriginal),\n        isEventHover = nameOriginal in eventsHover,\n        isEventFocus = nameOriginal in eventsFocus;\n\n    if (!name) return;\n\n    _this.each(function (i, ele) {\n      if (!isElement(ele) && !isDocument(ele) && !isWindow(ele)) return;\n\n      var finalCallback = function finalCallback(event) {\n        if (event.target[\"___i\" + event.type]) return event.stopImmediatePropagation(); // Ignoring native event in favor of the upcoming custom one\n\n        if (event.namespace && !hasNamespaces(namespaces, event.namespace.split(eventsNamespacesSeparator))) return;\n        if (!selector && (isEventFocus && (event.target !== ele || event.___ot === name) || isEventHover && event.relatedTarget && ele.contains(event.relatedTarget))) return;\n        var thisArg = ele;\n\n        if (selector) {\n          var target = event.target;\n\n          while (!matches(target, selector)) {\n            if (target === ele) return;\n            target = target.parentNode;\n            if (!target) return;\n          }\n\n          thisArg = target;\n          event.___cd = true; // Delegate\n        }\n\n        if (event.___cd) {\n          Object.defineProperty(event, 'currentTarget', {\n            configurable: true,\n            get: function get() {\n              return thisArg;\n            }\n          });\n        }\n\n        Object.defineProperty(event, 'data', {\n          configurable: true,\n          get: function get() {\n            return data;\n          }\n        });\n        var returnValue = callback.call(thisArg, event, event.___td);\n\n        if (_one) {\n          removeEvent(ele, name, namespaces, selector, finalCallback);\n        }\n\n        if (returnValue === false) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      };\n\n      finalCallback.guid = callback.guid = callback.guid || cash.guid++;\n      addEvent(ele, name, namespaces, selector, finalCallback);\n    });\n  });\n  return this;\n}\n\nfn.on = on;\n\nfunction one(eventFullName, selector, data, callback) {\n  return this.on(eventFullName, selector, data, callback, true);\n}\n\n;\nfn.one = one;\n\nfn.ready = function (callback) {\n  var cb = function cb() {\n    return setTimeout(callback, 0, cash);\n  };\n\n  if (doc.readyState !== 'loading') {\n    cb();\n  } else {\n    doc.addEventListener('DOMContentLoaded', cb);\n  }\n\n  return this;\n};\n\nfn.trigger = function (event, data) {\n  if (isString(event)) {\n    var _a = parseEventName(event),\n        nameOriginal = _a[0],\n        namespaces = _a[1],\n        name_1 = getEventNameBubbling(nameOriginal);\n\n    if (!name_1) return this;\n    var type = eventsMouseRe.test(name_1) ? 'MouseEvents' : 'HTMLEvents';\n    event = doc.createEvent(type);\n    event.initEvent(name_1, true, true);\n    event.namespace = namespaces.join(eventsNamespacesSeparator);\n    event.___ot = nameOriginal;\n  }\n\n  event.___td = data;\n  var isEventFocus = event.___ot in eventsFocus;\n  return this.each(function (i, ele) {\n    if (isEventFocus && isFunction(ele[event.___ot])) {\n      ele[\"___i\" + event.type] = true; // Ensuring the native event is ignored\n\n      ele[event.___ot]();\n\n      ele[\"___i\" + event.type] = false; // Ensuring the custom event is not ignored\n    }\n\n    ele.dispatchEvent(event);\n  });\n}; // @optional ./off.ts\n// @optional ./on.ts\n// @optional ./one.ts\n// @optional ./ready.ts\n// @optional ./trigger.ts\n// @require core/pluck.ts\n// @require core/variables.ts\n\n\nfunction getValue(ele) {\n  if (ele.multiple && ele.options) return pluck(filter.call(ele.options, function (option) {\n    return option.selected && !option.disabled && !option.parentNode.disabled;\n  }), 'value');\n  return ele.value || '';\n}\n\nvar queryEncodeSpaceRe = /%20/g,\n    queryEncodeCRLFRe = /\\r?\\n/g;\n\nfunction queryEncode(prop, value) {\n  return \"&\" + encodeURIComponent(prop) + \"=\" + encodeURIComponent(value.replace(queryEncodeCRLFRe, '\\r\\n')).replace(queryEncodeSpaceRe, '+');\n}\n\nvar skippableRe = /file|reset|submit|button|image/i,\n    checkableRe = /radio|checkbox/i;\n\nfn.serialize = function () {\n  var query = '';\n  this.each(function (i, ele) {\n    each(ele.elements || [ele], function (i, ele) {\n      if (ele.disabled || !ele.name || ele.tagName === 'FIELDSET' || skippableRe.test(ele.type) || checkableRe.test(ele.type) && !ele.checked) return;\n      var value = getValue(ele);\n\n      if (!isUndefined(value)) {\n        var values = isArray(value) ? value : [value];\n        each(values, function (i, value) {\n          query += queryEncode(ele.name, value);\n        });\n      }\n    });\n  });\n  return query.slice(1);\n};\n\nfunction val(value) {\n  if (!arguments.length) return this[0] && getValue(this[0]);\n  return this.each(function (i, ele) {\n    var isSelect = ele.multiple && ele.options;\n\n    if (isSelect || checkableRe.test(ele.type)) {\n      var eleValue_1 = isArray(value) ? map.call(value, String) : isNull(value) ? [] : [String(value)];\n\n      if (isSelect) {\n        each(ele.options, function (i, option) {\n          option.selected = eleValue_1.indexOf(option.value) >= 0;\n        }, true);\n      } else {\n        ele.checked = eleValue_1.indexOf(ele.value) >= 0;\n      }\n    } else {\n      ele.value = isUndefined(value) || isNull(value) ? '' : value;\n    }\n  });\n}\n\nfn.val = val;\n\nfn.clone = function () {\n  return this.map(function (i, ele) {\n    return ele.cloneNode(true);\n  });\n};\n\nfn.detach = function (comparator) {\n  filtered(this, comparator).each(function (i, ele) {\n    if (ele.parentNode) {\n      ele.parentNode.removeChild(ele);\n    }\n  });\n  return this;\n};\n\nvar fragmentRe = /^\\s*<(\\w+)[^>]*>/,\n    singleTagRe = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/;\nvar containers = {\n  '*': div,\n  tr: tbody,\n  td: tr,\n  th: tr,\n  thead: table,\n  tbody: table,\n  tfoot: table\n}; //TODO: Create elements inside a document fragment, in order to prevent inline event handlers from firing\n//TODO: Ensure the created elements have the fragment as their parent instead of null, this also ensures we can deal with detatched nodes more reliably\n\nfunction parseHTML(html) {\n  if (!isString(html)) return [];\n  if (singleTagRe.test(html)) return [createElement(RegExp.$1)];\n  var fragment = fragmentRe.test(html) && RegExp.$1,\n      container = containers[fragment] || containers['*'];\n  container.innerHTML = html;\n  return cash(container.childNodes).detach().get();\n}\n\ncash.parseHTML = parseHTML;\n\nfn.empty = function () {\n  return this.each(function (i, ele) {\n    while (ele.firstChild) {\n      ele.removeChild(ele.firstChild);\n    }\n  });\n};\n\nfunction html(html) {\n  if (!arguments.length) return this[0] && this[0].innerHTML;\n  if (isUndefined(html)) return this;\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    ele.innerHTML = html;\n  });\n}\n\nfn.html = html;\n\nfn.remove = function (comparator) {\n  filtered(this, comparator).detach().off();\n  return this;\n};\n\nfunction text(text) {\n  if (isUndefined(text)) return this[0] ? this[0].textContent : '';\n  return this.each(function (i, ele) {\n    if (!isElement(ele)) return;\n    ele.textContent = text;\n  });\n}\n\n;\nfn.text = text;\n\nfn.unwrap = function () {\n  this.parent().each(function (i, ele) {\n    if (ele.tagName === 'BODY') return;\n    var $ele = cash(ele);\n    $ele.replaceWith($ele.children());\n  });\n  return this;\n};\n\nfn.offset = function () {\n  var ele = this[0];\n  if (!ele) return;\n  var rect = ele.getBoundingClientRect();\n  return {\n    top: rect.top + win.pageYOffset,\n    left: rect.left + win.pageXOffset\n  };\n};\n\nfn.offsetParent = function () {\n  return this.map(function (i, ele) {\n    var offsetParent = ele.offsetParent;\n\n    while (offsetParent && computeStyle(offsetParent, 'position') === 'static') {\n      offsetParent = offsetParent.offsetParent;\n    }\n\n    return offsetParent || docEle;\n  });\n};\n\nfn.position = function () {\n  var ele = this[0];\n  if (!ele) return;\n  var isFixed = computeStyle(ele, 'position') === 'fixed',\n      offset = isFixed ? ele.getBoundingClientRect() : this.offset();\n\n  if (!isFixed) {\n    var doc_1 = ele.ownerDocument;\n    var offsetParent = ele.offsetParent || doc_1.documentElement;\n\n    while ((offsetParent === doc_1.body || offsetParent === doc_1.documentElement) && computeStyle(offsetParent, 'position') === 'static') {\n      offsetParent = offsetParent.parentNode;\n    }\n\n    if (offsetParent !== ele && isElement(offsetParent)) {\n      var parentOffset = cash(offsetParent).offset();\n      offset.top -= parentOffset.top + computeStyleInt(offsetParent, 'borderTopWidth');\n      offset.left -= parentOffset.left + computeStyleInt(offsetParent, 'borderLeftWidth');\n    }\n  }\n\n  return {\n    top: offset.top - computeStyleInt(ele, 'marginTop'),\n    left: offset.left - computeStyleInt(ele, 'marginLeft')\n  };\n};\n\nfn.children = function (comparator) {\n  return filtered(cash(unique(pluck(this, function (ele) {\n    return ele.children;\n  }))), comparator);\n};\n\nfn.contents = function () {\n  return cash(unique(pluck(this, function (ele) {\n    return ele.tagName === 'IFRAME' ? [ele.contentDocument] : ele.tagName === 'TEMPLATE' ? ele.content.childNodes : ele.childNodes;\n  })));\n};\n\nfn.find = function (selector) {\n  return cash(unique(pluck(this, function (ele) {\n    return find(selector, ele);\n  })));\n}; // @require core/variables.ts\n// @require collection/filter.ts\n// @require traversal/find.ts\n\n\nvar HTMLCDATARe = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n    scriptTypeRe = /^$|^module$|\\/(java|ecma)script/i,\n    scriptAttributes = ['type', 'src', 'nonce', 'noModule'];\n\nfunction evalScripts(node, doc) {\n  var collection = cash(node);\n  collection.filter('script').add(collection.find('script')).each(function (i, ele) {\n    if (scriptTypeRe.test(ele.type) && docEle.contains(ele)) {\n      // The script type is supported // The element is attached to the DOM // Using `documentElement` for broader browser support\n      var script_1 = createElement('script');\n      script_1.text = ele.textContent.replace(HTMLCDATARe, '');\n      each(scriptAttributes, function (i, attr) {\n        if (ele[attr]) script_1[attr] = ele[attr];\n      });\n      doc.head.insertBefore(script_1, null);\n      doc.head.removeChild(script_1);\n    }\n  });\n} // @require ./eval_scripts.ts\n\n\nfunction insertElement(anchor, target, left, inside, evaluate) {\n  if (inside) {\n    // prepend/append\n    anchor.insertBefore(target, left ? anchor.firstChild : null);\n  } else {\n    // before/after\n    anchor.parentNode.insertBefore(target, left ? anchor : anchor.nextSibling);\n  }\n\n  if (evaluate) {\n    evalScripts(target, anchor.ownerDocument);\n  }\n} // @require ./insert_element.ts\n\n\nfunction insertSelectors(selectors, anchors, inverse, left, inside, reverseLoop1, reverseLoop2, reverseLoop3) {\n  each(selectors, function (si, selector) {\n    each(cash(selector), function (ti, target) {\n      each(cash(anchors), function (ai, anchor) {\n        var anchorFinal = inverse ? target : anchor,\n            targetFinal = inverse ? anchor : target,\n            indexFinal = inverse ? ti : ai;\n        insertElement(anchorFinal, !indexFinal ? targetFinal : targetFinal.cloneNode(true), left, inside, !indexFinal);\n      }, reverseLoop3);\n    }, reverseLoop2);\n  }, reverseLoop1);\n  return anchors;\n}\n\nfn.after = function () {\n  return insertSelectors(arguments, this, false, false, false, true, true);\n};\n\nfn.append = function () {\n  return insertSelectors(arguments, this, false, false, true);\n};\n\nfn.appendTo = function (selector) {\n  return insertSelectors(arguments, this, true, false, true);\n};\n\nfn.before = function () {\n  return insertSelectors(arguments, this, false, true);\n};\n\nfn.insertAfter = function (selector) {\n  return insertSelectors(arguments, this, true, false, false, false, false, true);\n};\n\nfn.insertBefore = function (selector) {\n  return insertSelectors(arguments, this, true, true);\n};\n\nfn.prepend = function () {\n  return insertSelectors(arguments, this, false, true, true, true, true);\n};\n\nfn.prependTo = function (selector) {\n  return insertSelectors(arguments, this, true, true, true, false, false, true);\n};\n\nfn.replaceWith = function (selector) {\n  return this.before(selector).remove();\n};\n\nfn.replaceAll = function (selector) {\n  cash(selector).replaceWith(this);\n  return this;\n};\n\nfn.wrapAll = function (selector) {\n  var structure = cash(selector),\n      wrapper = structure[0];\n\n  while (wrapper.children.length) {\n    wrapper = wrapper.firstElementChild;\n  }\n\n  this.first().before(structure);\n  return this.appendTo(wrapper);\n};\n\nfn.wrap = function (selector) {\n  return this.each(function (i, ele) {\n    var wrapper = cash(selector)[0];\n    cash(ele).wrapAll(!i ? wrapper : wrapper.cloneNode(true));\n  });\n};\n\nfn.wrapInner = function (selector) {\n  return this.each(function (i, ele) {\n    var $ele = cash(ele),\n        contents = $ele.contents();\n    contents.length ? contents.wrapAll(selector) : $ele.append(selector);\n  });\n};\n\nfn.has = function (selector) {\n  var comparator = isString(selector) ? function (i, ele) {\n    return find(selector, ele).length;\n  } : function (i, ele) {\n    return ele.contains(selector);\n  };\n  return this.filter(comparator);\n};\n\nfn.is = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return some.call(this, function (ele, i) {\n    return compare.call(ele, i, ele);\n  });\n};\n\nfn.next = function (comparator, _all, _until) {\n  return filtered(cash(unique(pluck(this, 'nextElementSibling', _all, _until))), comparator);\n};\n\nfn.nextAll = function (comparator) {\n  return this.next(comparator, true);\n};\n\nfn.nextUntil = function (until, comparator) {\n  return this.next(comparator, true, until);\n};\n\nfn.not = function (comparator) {\n  var compare = getCompareFunction(comparator);\n  return this.filter(function (i, ele) {\n    return (!isString(comparator) || isElement(ele)) && !compare.call(ele, i, ele);\n  });\n};\n\nfn.parent = function (comparator) {\n  return filtered(cash(unique(pluck(this, 'parentNode'))), comparator);\n};\n\nfn.index = function (selector) {\n  var child = selector ? cash(selector)[0] : this[0],\n      collection = selector ? this : cash(child).parent().children();\n  return indexOf.call(collection, child);\n};\n\nfn.closest = function (comparator) {\n  var filtered = this.filter(comparator);\n  if (filtered.length) return filtered;\n  var $parent = this.parent();\n  if (!$parent.length) return filtered;\n  return $parent.closest(comparator);\n};\n\nfn.parents = function (comparator, _until) {\n  return filtered(cash(unique(pluck(this, 'parentElement', true, _until))), comparator);\n};\n\nfn.parentsUntil = function (until, comparator) {\n  return this.parents(comparator, until);\n};\n\nfn.prev = function (comparator, _all, _until) {\n  return filtered(cash(unique(pluck(this, 'previousElementSibling', _all, _until))), comparator);\n};\n\nfn.prevAll = function (comparator) {\n  return this.prev(comparator, true);\n};\n\nfn.prevUntil = function (until, comparator) {\n  return this.prev(comparator, true, until);\n};\n\nfn.siblings = function (comparator) {\n  return filtered(cash(unique(pluck(this, function (ele) {\n    return cash(ele).parent().children().not(ele);\n  }))), comparator);\n}; // @optional ./children.ts\n// @optional ./closest.ts\n// @optional ./contents.ts\n// @optional ./find.ts\n// @optional ./has.ts\n// @optional ./is.ts\n// @optional ./next.ts\n// @optional ./next_all.ts\n// @optional ./next_until.ts\n// @optional ./not.ts\n// @optional ./parent.ts\n// @optional ./parents.ts\n// @optional ./parents_until.ts\n// @optional ./prev.ts\n// @optional ./prev_all.ts\n// @optional ./prev_until.ts\n// @optional ./siblings.ts\n// @optional attributes/index.ts\n// @optional collection/index.ts\n// @optional css/index.ts\n// @optional data/index.ts\n// @optional dimensions/index.ts\n// @optional effects/index.ts\n// @optional events/index.ts\n// @optional forms/index.ts\n// @optional manipulation/index.ts\n// @optional offset/index.ts\n// @optional traversal/index.ts\n// @require core/index.ts\n// @priority -100\n// @require ./cash.ts\n// @require ./variables.ts\n\n\nif (typeof exports !== 'undefined') {\n  // Node.js\n  module.exports = cash;\n} else {\n  // Browser\n  win['cash'] = win['$'] = cash;\n}\n})();","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Masonry = factory(\n      window.Outlayer,\n      window.getSize\n    );\n  }\n\n}( window, function factory( Outlayer, getSize ) {\n\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Masonry = Outlayer.create('masonry');\n  // isFitWidth -> fitWidth\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function() {\n    this.getSize();\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\n    this._getMeasurement( 'gutter', 'outerWidth' );\n    this.measureColumns();\n\n    // reset column Y\n    this.colYs = [];\n    for ( var i=0; i < this.cols; i++ ) {\n      this.colYs.push( 0 );\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function() {\n    this.getContainerWidth();\n    // if columnWidth is 0, default to outerWidth of first item\n    if ( !this.columnWidth ) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element;\n      // columnWidth fall back to item of first element\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n        // if first elem has no width, default to size of container\n        this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter;\n\n    // calculate columns\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth;\n    // fix rounding errors, typically with gutters\n    var excess = columnWidth - containerWidth % columnWidth;\n    // if overshoot is less than a pixel, round up, otherwise floor it\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[ mathMethod ]( cols );\n    this.cols = Math.max( cols, 1 );\n  };\n\n  proto.getContainerWidth = function() {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n    var container = isFitWidth ? this.element.parentNode : this.element;\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var size = getSize( container );\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function( item ) {\n    item.getSize();\n    // how many columns does this brick span\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n    // round if off by 1 pixel, otherwise use ceil\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n    colSpan = Math.min( colSpan, this.cols );\n    // use horizontal or top column position\n    var colPosMethod = this.options.horizontalOrder ?\n      '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[ colPosMethod ]( colSpan, item );\n    // position the brick\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    };\n    // apply setHeight to necessary columns\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n    for ( var i = colPosition.col; i < setMax; i++ ) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function( colSpan ) {\n    var colGroup = this._getTopColGroup( colSpan );\n    // get the minimum Y value from the columns\n    var minimumY = Math.min.apply( Math, colGroup );\n\n    return {\n      col: colGroup.indexOf( minimumY ),\n      y: minimumY,\n    };\n  };\n\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n  proto._getTopColGroup = function( colSpan ) {\n    if ( colSpan < 2 ) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = [];\n    // how many different places could this brick fit horizontally\n    var groupCount = this.cols + 1 - colSpan;\n    // for each group potential horizontal position\n    for ( var i = 0; i < groupCount; i++ ) {\n      colGroup[i] = this._getColGroupY( i, colSpan );\n    }\n    return colGroup;\n  };\n\n  proto._getColGroupY = function( col, colSpan ) {\n    if ( colSpan < 2 ) {\n      return this.colYs[ col ];\n    }\n    // make an array of colY values for that one group\n    var groupColYs = this.colYs.slice( col, col + colSpan );\n    // and get the max value of the array\n    return Math.max.apply( Math, groupColYs );\n  };\n\n  // get column position based on horizontal index. #873\n  proto._getHorizontalColPosition = function( colSpan, item ) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\n    // shift to next row if item can't fit on current row\n    col = isOver ? 0 : col;\n    // don't let zero-size items take up space\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n    return {\n      col: col,\n      y: this._getColGroupY( col, colSpan ),\n    };\n  };\n\n  proto._manageStamp = function( stamp ) {\n    var stampSize = getSize( stamp );\n    var offset = this._getElementOffset( stamp );\n    // get the columns that this stamp affects\n    var isOriginLeft = this._getOption('originLeft');\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor( firstX / this.columnWidth );\n    firstCol = Math.max( 0, firstCol );\n    var lastCol = Math.floor( lastX / this.columnWidth );\n    // lastCol should not go over if multiple of columnWidth #425\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min( this.cols - 1, lastCol );\n    // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n      stampSize.outerHeight;\n    for ( var i = firstCol; i <= lastCol; i++ ) {\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n    }\n  };\n\n  proto._getContainerSize = function() {\n    this.maxY = Math.max.apply( Math, this.colYs );\n    var size = {\n      height: this.maxY\n    };\n\n    if ( this._getOption('fitWidth') ) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function() {\n    var unusedCols = 0;\n    // count unused columns\n    var i = this.cols;\n    while ( --i ) {\n      if ( this.colYs[i] !== 0 ) {\n        break;\n      }\n      unusedCols++;\n    }\n    // fit container to columns that have been used\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function() {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n\n}));\n","/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size'\n      ],\n      factory\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      require('ev-emitter'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window.EvEmitter,\n      window.getSize\n    );\n  }\n\n}( window, function factory( EvEmitter, getSize ) {\n'use strict';\n\n// ----- helpers ----- //\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\n\nvar docElemStyle = document.documentElement.style;\n\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\n  'transition' : 'WebkitTransition';\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\n  'transform' : 'WebkitTransform';\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\nvar vendorProperties = {\n  transform: transformProperty,\n  transition: transitionProperty,\n  transitionDuration: transitionProperty + 'Duration',\n  transitionProperty: transitionProperty + 'Property',\n  transitionDelay: transitionProperty + 'Delay'\n};\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EvEmitter\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\nproto.constructor = Item;\n\nproto._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nproto.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nproto.getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  var x = parseFloat( xValue );\n  var y = parseFloat( yValue );\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  if ( xValue.indexOf('%') != -1 ) {\n    x = ( x / 100 ) * layoutSize.width;\n  }\n  if ( yValue.indexOf('%') != -1 ) {\n    y = ( y / 100 ) * layoutSize.height;\n  }\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nproto.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var style = {};\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n\n  // x\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = isOriginLeft ? 'left' : 'right';\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nproto.getXValue = function( x ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && !isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nproto.getYValue = function( y ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\nproto._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var didNotMove = x == this.position.x && y == this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nproto.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  x = isOriginLeft ? x : -x;\n  y = isOriginTop ? y : -y;\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n};\n\n// non transition + transform support\nproto.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\nproto.moveTo = proto._transitionTo;\n\nproto.setPosition = function( x, y ) {\n  this.position.x = parseFloat( x );\n  this.position.y = parseFloat( y );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nproto._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nproto.transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\nproto.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // munge number to millisecond, to match stagger\n  var duration = this.layout.options.transitionDuration;\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: duration,\n    transitionDelay: this.staggerDelay || 0\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\n// ----- events ----- //\n\nproto.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nproto.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform'\n};\n\nproto.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nproto.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nproto._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: '',\n  transitionDelay: ''\n};\n\nproto.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- stagger ----- //\n\nproto.stagger = function( delay ) {\n  delay = isNaN( delay ) ? 0 : delay;\n  this.staggerDelay = delay + 'ms';\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nproto.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nproto.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  this.once( 'transitionEnd', function() {\n    this.removeElem();\n  });\n  this.hide();\n};\n\nproto.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nproto.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nproto.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  'use strict';\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( EvEmitter, getSize, utils, Item ) {\n        return factory( window, EvEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n'use strict';\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  var isInitLayout = this._getOption('initLayout');\n  if ( isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  initLayout: true,\n  originLeft: true,\n  originTop: true,\n  resize: true,\n  resizeContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\nvar proto = Outlayer.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n/**\n * get backwards compatible option value, check old name\n */\nproto._getOption = function( option ) {\n  var oldOption = this.constructor.compatOptions[ option ];\n  return oldOption && this.options[ oldOption ] !== undefined ?\n    this.options[ oldOption ] : this.options[ option ];\n};\n\nOutlayer.compatOptions = {\n  // currentName: oldName\n  initLayout: 'isInitLayout',\n  horizontal: 'isHorizontal',\n  layoutInstant: 'isLayoutInstant',\n  originLeft: 'isOriginLeft',\n  originTop: 'isOriginTop',\n  resize: 'isResizeBound',\n  resizeContainer: 'isResizingContainer'\n};\n\nproto._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  var canBindResize = this._getOption('resize');\n  if ( canBindResize ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nproto.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nproto._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0; i < itemElems.length; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nproto._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nproto.getItemElements = function() {\n  return this.items.map( function( item ) {\n    return item.element;\n  });\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nproto.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var layoutInstant = this._getOption('layoutInstant');\n  var isInstant = layoutInstant !== undefined ?\n    layoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nproto._init = proto.layout;\n\n/**\n * logic before any new layout\n */\nproto._resetLayout = function() {\n  this.getSize();\n};\n\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nproto._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option == 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( option instanceof HTMLElement ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nproto.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nproto._getItemsForLayout = function( items ) {\n  return items.filter( function( item ) {\n    return !item.isIgnored;\n  });\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nproto._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  items.forEach( function( item ) {\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }, this );\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nproto._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nproto._processLayoutQueue = function( queue ) {\n  this.updateStagger();\n  queue.forEach( function( obj, i ) {\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n  }, this );\n};\n\n// set stagger from option in milliseconds number\nproto.updateStagger = function() {\n  var stagger = this.options.stagger;\n  if ( stagger === null || stagger === undefined ) {\n    this.stagger = 0;\n    return;\n  }\n  this.stagger = getMilliseconds( stagger );\n  return this.stagger;\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nproto._positionItem = function( item, x, y, isInstant, i ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.stagger( i * this.stagger );\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nproto._postLayout = function() {\n  this.resizeContainer();\n};\n\nproto.resizeContainer = function() {\n  var isResizingContainer = this._getOption('resizeContainer');\n  if ( !isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nproto._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nproto._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nproto._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount == count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  items.forEach( function( item ) {\n    item.once( eventName, tick );\n  });\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nproto.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nproto.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nproto.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  elems.forEach( this.ignore, this );\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nproto.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  elems.forEach( function( elem ) {\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }, this );\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nproto._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems == 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nproto._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  this.stamps.forEach( this._manageStamp, this );\n};\n\n// update boundingLeft / Top\nproto._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nproto._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nproto._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nproto.handleEvent = utils.handleEvent;\n\n/**\n * Bind layout to window resizing\n */\nproto.bindResize = function() {\n  window.addEventListener( 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nproto.unbindResize = function() {\n  window.removeEventListener( 'resize', this );\n  this.isResizeBound = false;\n};\n\nproto.onresize = function() {\n  this.resize();\n};\n\nutils.debounceMethod( Outlayer, 'onresize', 100 );\n\nproto.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nproto.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nproto.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nproto.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nproto.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.reveal();\n  });\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.hide();\n  });\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nproto.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0; i < this.items.length; i++ ) {\n    var item = this.items[i];\n    if ( item.element == elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nproto.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  elems.forEach( function( elem ) {\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }, this );\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nproto.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  removeItems.forEach( function( item ) {\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }, this );\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nproto.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  this.items.forEach( function( item ) {\n    item.destroy();\n  });\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  var Layout = subclass( Outlayer );\n  // apply new options and compatOptions\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  utils.extend( Layout.defaults, options );\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = subclass( Item );\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\nfunction subclass( Parent ) {\n  function SubClass() {\n    Parent.apply( this, arguments );\n  }\n\n  SubClass.prototype = Object.create( Parent.prototype );\n  SubClass.prototype.constructor = SubClass;\n\n  return SubClass;\n}\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\nvar msUnits = {\n  ms: 1,\n  s: 1000\n};\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\nfunction getMilliseconds( time ) {\n  if ( typeof time == 'number' ) {\n    return time;\n  }\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n  var num = matches && matches[1];\n  var unit = matches && matches[2];\n  if ( !num.length ) {\n    return 0;\n  }\n  num = parseFloat( num );\n  var mult = msUnits[ unit ] || 1;\n  return num * mult;\n}\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n","/* smoothscroll v0.4.4 - 2019 - Dustan Kasten, Jeremias Menichelli - MIT License */\n(function () {\n  'use strict';\n\n  // polyfill\n  function polyfill() {\n    // aliases\n    var w = window;\n    var d = document;\n\n    // return if scroll behavior is supported and polyfill is not forced\n    if (\n      'scrollBehavior' in d.documentElement.style &&\n      w.__forceSmoothScrollPolyfill__ !== true\n    ) {\n      return;\n    }\n\n    // globals\n    var Element = w.HTMLElement || w.Element;\n    var SCROLL_TIME = 468;\n\n    // object gathering original scroll methods\n    var original = {\n      scroll: w.scroll || w.scrollTo,\n      scrollBy: w.scrollBy,\n      elementScroll: Element.prototype.scroll || scrollElement,\n      scrollIntoView: Element.prototype.scrollIntoView\n    };\n\n    // define timing method\n    var now =\n      w.performance && w.performance.now\n        ? w.performance.now.bind(w.performance)\n        : Date.now;\n\n    /**\n     * indicates if a the current browser is made by Microsoft\n     * @method isMicrosoftBrowser\n     * @param {String} userAgent\n     * @returns {Boolean}\n     */\n    function isMicrosoftBrowser(userAgent) {\n      var userAgentPatterns = ['MSIE ', 'Trident/', 'Edge/'];\n\n      return new RegExp(userAgentPatterns.join('|')).test(userAgent);\n    }\n\n    /*\n     * IE has rounding bug rounding down clientHeight and clientWidth and\n     * rounding up scrollHeight and scrollWidth causing false positives\n     * on hasScrollableSpace\n     */\n    var ROUNDING_TOLERANCE = isMicrosoftBrowser(w.navigator.userAgent) ? 1 : 0;\n\n    /**\n     * changes scroll position inside an element\n     * @method scrollElement\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {undefined}\n     */\n    function scrollElement(x, y) {\n      this.scrollLeft = x;\n      this.scrollTop = y;\n    }\n\n    /**\n     * returns result of applying ease math function to a number\n     * @method ease\n     * @param {Number} k\n     * @returns {Number}\n     */\n    function ease(k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k));\n    }\n\n    /**\n     * indicates if a smooth behavior should be applied\n     * @method shouldBailOut\n     * @param {Number|Object} firstArg\n     * @returns {Boolean}\n     */\n    function shouldBailOut(firstArg) {\n      if (\n        firstArg === null ||\n        typeof firstArg !== 'object' ||\n        firstArg.behavior === undefined ||\n        firstArg.behavior === 'auto' ||\n        firstArg.behavior === 'instant'\n      ) {\n        // first argument is not an object/null\n        // or behavior is auto, instant or undefined\n        return true;\n      }\n\n      if (typeof firstArg === 'object' && firstArg.behavior === 'smooth') {\n        // first argument is an object and behavior is smooth\n        return false;\n      }\n\n      // throw error when behavior is not supported\n      throw new TypeError(\n        'behavior member of ScrollOptions ' +\n          firstArg.behavior +\n          ' is not a valid value for enumeration ScrollBehavior.'\n      );\n    }\n\n    /**\n     * indicates if an element has scrollable space in the provided axis\n     * @method hasScrollableSpace\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function hasScrollableSpace(el, axis) {\n      if (axis === 'Y') {\n        return el.clientHeight + ROUNDING_TOLERANCE < el.scrollHeight;\n      }\n\n      if (axis === 'X') {\n        return el.clientWidth + ROUNDING_TOLERANCE < el.scrollWidth;\n      }\n    }\n\n    /**\n     * indicates if an element has a scrollable overflow property in the axis\n     * @method canOverflow\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function canOverflow(el, axis) {\n      var overflowValue = w.getComputedStyle(el, null)['overflow' + axis];\n\n      return overflowValue === 'auto' || overflowValue === 'scroll';\n    }\n\n    /**\n     * indicates if an element can be scrolled in either axis\n     * @method isScrollable\n     * @param {Node} el\n     * @param {String} axis\n     * @returns {Boolean}\n     */\n    function isScrollable(el) {\n      var isScrollableY = hasScrollableSpace(el, 'Y') && canOverflow(el, 'Y');\n      var isScrollableX = hasScrollableSpace(el, 'X') && canOverflow(el, 'X');\n\n      return isScrollableY || isScrollableX;\n    }\n\n    /**\n     * finds scrollable parent of an element\n     * @method findScrollableParent\n     * @param {Node} el\n     * @returns {Node} el\n     */\n    function findScrollableParent(el) {\n      while (el !== d.body && isScrollable(el) === false) {\n        el = el.parentNode || el.host;\n      }\n\n      return el;\n    }\n\n    /**\n     * self invoked function that, given a context, steps through scrolling\n     * @method step\n     * @param {Object} context\n     * @returns {undefined}\n     */\n    function step(context) {\n      var time = now();\n      var value;\n      var currentX;\n      var currentY;\n      var elapsed = (time - context.startTime) / SCROLL_TIME;\n\n      // avoid elapsed times higher than one\n      elapsed = elapsed > 1 ? 1 : elapsed;\n\n      // apply easing to elapsed time\n      value = ease(elapsed);\n\n      currentX = context.startX + (context.x - context.startX) * value;\n      currentY = context.startY + (context.y - context.startY) * value;\n\n      context.method.call(context.scrollable, currentX, currentY);\n\n      // scroll more if we have not reached our destination\n      if (currentX !== context.x || currentY !== context.y) {\n        w.requestAnimationFrame(step.bind(w, context));\n      }\n    }\n\n    /**\n     * scrolls window or element with a smooth behavior\n     * @method smoothScroll\n     * @param {Object|Node} el\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {undefined}\n     */\n    function smoothScroll(el, x, y) {\n      var scrollable;\n      var startX;\n      var startY;\n      var method;\n      var startTime = now();\n\n      // define scroll context\n      if (el === d.body) {\n        scrollable = w;\n        startX = w.scrollX || w.pageXOffset;\n        startY = w.scrollY || w.pageYOffset;\n        method = original.scroll;\n      } else {\n        scrollable = el;\n        startX = el.scrollLeft;\n        startY = el.scrollTop;\n        method = scrollElement;\n      }\n\n      // scroll looping over a frame\n      step({\n        scrollable: scrollable,\n        method: method,\n        startTime: startTime,\n        startX: startX,\n        startY: startY,\n        x: x,\n        y: y\n      });\n    }\n\n    // ORIGINAL METHODS OVERRIDES\n    // w.scroll and w.scrollTo\n    w.scroll = w.scrollTo = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.scroll.call(\n          w,\n          arguments[0].left !== undefined\n            ? arguments[0].left\n            : typeof arguments[0] !== 'object'\n              ? arguments[0]\n              : w.scrollX || w.pageXOffset,\n          // use top prop, second argument if present or fallback to scrollY\n          arguments[0].top !== undefined\n            ? arguments[0].top\n            : arguments[1] !== undefined\n              ? arguments[1]\n              : w.scrollY || w.pageYOffset\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        w,\n        d.body,\n        arguments[0].left !== undefined\n          ? ~~arguments[0].left\n          : w.scrollX || w.pageXOffset,\n        arguments[0].top !== undefined\n          ? ~~arguments[0].top\n          : w.scrollY || w.pageYOffset\n      );\n    };\n\n    // w.scrollBy\n    w.scrollBy = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0])) {\n        original.scrollBy.call(\n          w,\n          arguments[0].left !== undefined\n            ? arguments[0].left\n            : typeof arguments[0] !== 'object' ? arguments[0] : 0,\n          arguments[0].top !== undefined\n            ? arguments[0].top\n            : arguments[1] !== undefined ? arguments[1] : 0\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        w,\n        d.body,\n        ~~arguments[0].left + (w.scrollX || w.pageXOffset),\n        ~~arguments[0].top + (w.scrollY || w.pageYOffset)\n      );\n    };\n\n    // Element.prototype.scroll and Element.prototype.scrollTo\n    Element.prototype.scroll = Element.prototype.scrollTo = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        // if one number is passed, throw error to match Firefox implementation\n        if (typeof arguments[0] === 'number' && arguments[1] === undefined) {\n          throw new SyntaxError('Value could not be converted');\n        }\n\n        original.elementScroll.call(\n          this,\n          // use left prop, first number argument or fallback to scrollLeft\n          arguments[0].left !== undefined\n            ? ~~arguments[0].left\n            : typeof arguments[0] !== 'object' ? ~~arguments[0] : this.scrollLeft,\n          // use top prop, second argument or fallback to scrollTop\n          arguments[0].top !== undefined\n            ? ~~arguments[0].top\n            : arguments[1] !== undefined ? ~~arguments[1] : this.scrollTop\n        );\n\n        return;\n      }\n\n      var left = arguments[0].left;\n      var top = arguments[0].top;\n\n      // LET THE SMOOTHNESS BEGIN!\n      smoothScroll.call(\n        this,\n        this,\n        typeof left === 'undefined' ? this.scrollLeft : ~~left,\n        typeof top === 'undefined' ? this.scrollTop : ~~top\n      );\n    };\n\n    // Element.prototype.scrollBy\n    Element.prototype.scrollBy = function() {\n      // avoid action when no arguments are passed\n      if (arguments[0] === undefined) {\n        return;\n      }\n\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.elementScroll.call(\n          this,\n          arguments[0].left !== undefined\n            ? ~~arguments[0].left + this.scrollLeft\n            : ~~arguments[0] + this.scrollLeft,\n          arguments[0].top !== undefined\n            ? ~~arguments[0].top + this.scrollTop\n            : ~~arguments[1] + this.scrollTop\n        );\n\n        return;\n      }\n\n      this.scroll({\n        left: ~~arguments[0].left + this.scrollLeft,\n        top: ~~arguments[0].top + this.scrollTop,\n        behavior: arguments[0].behavior\n      });\n    };\n\n    // Element.prototype.scrollIntoView\n    Element.prototype.scrollIntoView = function() {\n      // avoid smooth behavior if not required\n      if (shouldBailOut(arguments[0]) === true) {\n        original.scrollIntoView.call(\n          this,\n          arguments[0] === undefined ? true : arguments[0]\n        );\n\n        return;\n      }\n\n      // LET THE SMOOTHNESS BEGIN!\n      var scrollableParent = findScrollableParent(this);\n      var parentRects = scrollableParent.getBoundingClientRect();\n      var clientRects = this.getBoundingClientRect();\n\n      if (scrollableParent !== d.body) {\n        // reveal element inside parent\n        smoothScroll.call(\n          this,\n          scrollableParent,\n          scrollableParent.scrollLeft + clientRects.left - parentRects.left,\n          scrollableParent.scrollTop + clientRects.top - parentRects.top\n        );\n\n        // reveal parent in viewport unless is fixed\n        if (w.getComputedStyle(scrollableParent).position !== 'fixed') {\n          w.scrollBy({\n            left: parentRects.left,\n            top: parentRects.top,\n            behavior: 'smooth'\n          });\n        }\n      } else {\n        // reveal element in viewport\n        w.scrollBy({\n          left: clientRects.left,\n          top: clientRects.top,\n          behavior: 'smooth'\n        });\n      }\n    };\n  }\n\n  if (typeof exports === 'object' && typeof module !== 'undefined') {\n    // commonjs\n    module.exports = { polyfill: polyfill };\n  } else {\n    // global\n    polyfill();\n  }\n\n}());\n","function throttle(ms, callback) {\n  let lastCall = 0;\n  let timeout;\n  return a => {\n    const now = new Date().getTime();\n    if (now - lastCall >= ms) {\n      lastCall = now;\n      callback(a);\n    } else {\n      clearTimeout(timeout);\n      timeout = setTimeout((a => callback.bind(this, a))(a), ms);\n    }\n  };\n}\n\nexport default throttle;\n","import $ from 'cash-dom';\nimport throttle from 'widok-throttle';\n\n/**\n * @typedef {Object} options\n * @property {number} delay default = 100, delay between consequtive activations\n * @property {string} selector default = '.fade', selector of fading elements\n * @property {number} screenPosition default = 1, portion of the screen where activation occurs\n */\n\n/**\n * Enables fading activation.\n * @param {options} options\n */\n\nfunction fadeQueueStart(options = {}) {\n  const opt = {\n    delay: 100,\n    selector: '.fade',\n    screenPosition: 1,\n  };\n  Object.assign(opt, options);\n  const fadeOnResize = () => fades.forEach(e => e.resize());\n  const fadeOnScroll = () => fades.forEach(e => e.check());\n  const checkFadeQueue = () => {\n    if (fadeQueue.length === 0) return;\n    const target = fadeQueue.splice(0, 1)[0];\n    target.inQueue = false;\n    const isDisplayed = target.check();\n    if (fadeQueue.length > 0) {\n      if (isDisplayed) setTimeout(checkFadeQueue, opt.delay);\n      else checkFadeQueue();\n    }\n  };\n\n  let nextOrder = 1000;\n  let lastActivated;\n  class Fade {\n    constructor(element) {\n      this.element = $(element);\n      this.active = false;\n      this.inQueue = false;\n      const order = this.element.data('fade-order');\n      this.order = order === undefined ? nextOrder++ : order;\n    }\n\n    resize() {\n      this.offset = this.element.offset().top;\n      this.isFixed = this.element.css('position') === 'fixed';\n      this.check();\n    }\n\n    check() {\n      if (this.inQueue) return false;\n      if (this.isFixed) {\n        this.activate();\n        return false;\n      }\n\n      if (\n        this.offset <\n        window.scrollY + window.innerHeight * opt.screenPosition\n      ) {\n        this.activate();\n        return true;\n      }\n      this.deactivate();\n      return false;\n    }\n\n    activate() {\n      if (this.active) return;\n\n      const now = new Date().getTime();\n      if (now >= lastFade + opt.delay || lastActivated === this.order) {\n        this.active = true;\n        this.element.addClass('active');\n\n        lastFade = now;\n        lastActivated = this.order;\n      } else {\n        this.inQueue = true;\n        fadeQueue.push(this);\n        if (fadeQueue.length === 1) {\n          setTimeout(checkFadeQueue, opt.delay);\n        }\n      }\n    }\n\n    deactivate() {\n      if (!this.active) return;\n\n      this.active = false;\n      this.element.removeClass('active');\n    }\n  }\n\n  let lastFade = 0;\n  const fadeQueue = [];\n  const fades = [];\n\n  $(opt.selector).each((index, element) => {\n    fades.push(new Fade(element));\n  });\n  fades.sort((a, b) => a.order - b.order);\n\n  window.addEventListener('load', fadeOnResize);\n  window.addEventListener('resize', throttle(100, fadeOnResize));\n  window.addEventListener('scroll', throttle(100, fadeOnScroll));\n}\n\nexport default fadeQueueStart;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import fadeQueueStart from 'widok-fade-queue';\r\nconst $ = require('cash-dom');\r\nrequire('./widok');\r\nrequire('./nav');\r\nrequire('./footer');\r\nrequire('./sliders');\r\nrequire('./cake-frame');\r\nconst bodyElement = $('body');\r\n\r\nif ($('.fixed-link').length > 0) require('./fixed-link');\r\nif ($('#top').length > 0) require('./top');\r\nif ($('.slider-gallery').length > 0) require('./slider-gallery');\r\nif (bodyElement.hasClass('page-template-t-atrakcje')) require('./attractions');\r\nif ($('.fade').length > 0) {\r\n  fadeQueueStart({ delay: 400 });\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};"],"sourceRoot":""}